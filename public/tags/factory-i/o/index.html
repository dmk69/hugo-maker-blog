<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Factory I/O | Automation & Industrial Control Technician</title><meta name=keywords content><meta name=description content="ä¸“ä¸šçš„è‡ªåŠ¨åŒ–ä¸å·¥ä¸šæ§åˆ¶æŠ€æœ¯å‘˜ | PLCç¼–ç¨‹ | åµŒå…¥å¼æ§åˆ¶ | SolidWorksè®¾è®¡"><meta name=author content="dmk69"><link rel=canonical href=https://hugo-maker-blog.vercel.app/tags/factory-i/o/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://hugo-maker-blog.vercel.app/tags/factory-i/o/index.xml title=rss><link rel=alternate hreflang=en href=https://hugo-maker-blog.vercel.app/tags/factory-i/o/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://hugo-maker-blog.vercel.app/tags/factory-i/o/"><meta property="og:site_name" content="Automation & Industrial Control Technician"><meta property="og:title" content="Factory I/O"><meta property="og:description" content="ä¸“ä¸šçš„è‡ªåŠ¨åŒ–ä¸å·¥ä¸šæ§åˆ¶æŠ€æœ¯å‘˜ | PLCç¼–ç¨‹ | åµŒå…¥å¼æ§åˆ¶ | SolidWorksè®¾è®¡"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="website"><meta property="og:image" content="https://hugo-maker-blog.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hugo-maker-blog.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Factory I/O"><meta name=twitter:description content="ä¸“ä¸šçš„è‡ªåŠ¨åŒ–ä¸å·¥ä¸šæ§åˆ¶æŠ€æœ¯å‘˜ | PLCç¼–ç¨‹ | åµŒå…¥å¼æ§åˆ¶ | SolidWorksè®¾è®¡"></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://hugo-maker-blog.vercel.app/ accesskey=h title="Home (Alt + H)"><img src=https://hugo-maker-blog.vercel.app/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hugo-maker-blog.vercel.app/projects/ title=é¡¹ç›®å±•ç¤º><span>é¡¹ç›®å±•ç¤º</span></a></li><li><a href=https://hugo-maker-blog.vercel.app/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://hugo-maker-blog.vercel.app/about/ title=å…³äº><span>å…³äº</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://hugo-maker-blog.vercel.app/>Home</a>&nbsp;Â»&nbsp;<a href=https://hugo-maker-blog.vercel.app/tags/>Tags</a></div><h1>Factory I/O
<a href=/tags/factory-i/o/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&amp;h=400&amp;fit=crop" alt="Factory Automation"></figure><header class=entry-header><h2 class=entry-hint-parent>Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ</h2></header><div class=entry-content><p>ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚
ğŸ¯ å­¦ä¹ ç›®æ ‡ æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³• å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç† å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡ 2.1 Factory I/Oè½¯ä»¶å®‰è£… ç³»ç»Ÿè¦æ±‚ æœ€ä½é…ç½®: - æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½) - å†…å­˜: 8GB RAM - æ˜¾å¡: OpenGL 3.3æ”¯æŒ - ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´ æ¨èé…ç½®: - å†…å­˜: 16GB RAM - æ˜¾å¡: GTX 1060æˆ–æ›´é«˜ - å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š å®‰è£…æ­¥éª¤ è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶ é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰ è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£… å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯ 2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹© æ”¯æŒçš„PLCè½¯ä»¶ PLCè½¯ä»¶ è¿æ¥æ–¹å¼ ä»·æ ¼ æ¨èåº¦ CODESYS OPC UA/Modbus å…è´¹ â­â­â­â­â­ TwinCAT ADS å…è´¹ â­â­â­â­ Studio 5000 Logix Emulator æ”¶è´¹ â­â­â­ TIA Portal PLCSIM Advanced æ”¶è´¹ â­â­â­ CODESYSå®‰è£…é…ç½® CODESYSå®‰è£…æ­¥éª¤: 1. ä¸‹è½½CODESYS Development System 2. å®‰è£…CODESYS Control Win V3 (è½¯PLC) 3. é…ç½®OPC UAæœåŠ¡å™¨ 4. è®¾ç½®é€šä¿¡å‚æ•° ğŸ® Factory I/Oç•Œé¢ä»‹ç» 3.1 ä¸»ç•Œé¢å¸ƒå±€ Factory I/Oç•Œé¢å¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ èœå•æ : File, Edit, View, Physics, Help â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹© â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚ 3Dè§†å›¾åŒºåŸŸ â”‚ â”‚ â”‚ â”‚ â”‚ ç»„ä»¶åº“ â”‚ â”‚ â”‚ é©±åŠ¨é…ç½® â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 3.2 ç»„ä»¶åº“ä»‹ç» ä¼ æ„Ÿå™¨ç»„ä»¶ ä¼ æ„Ÿå™¨ç±»å‹: - æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘ - å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹ - è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ« - æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡ - é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡ æ‰§è¡Œå™¨ç»„ä»¶ æ‰§è¡Œå™¨ç±»å‹: - ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€ - æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ - å‡é™æœº (Lift): å‚ç›´è¿è¾“ - æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™ - åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£ ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ 4.1 åœºæ™¯æ­å»º åˆ›å»ºåŸºç¡€å¸ƒå±€ æ­¥éª¤1: åˆ›å»ºåœºæ™¯ 1. æ–°å»ºåœºæ™¯ â†’ Empty Scene 2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m 3. æ·»åŠ å…‰ç…§: Directional Light æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦ 1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt 2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m 3. è®¾ç½®é€Ÿåº¦: 0.5 m/s 4. æ”¾ç½®ä½ç½®: (0, 0, 0) æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨ 1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor 2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor 3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½® ç»„ä»¶è¿æ¥é…ç½® &lt;!-- Factory I/Oé©±åŠ¨é…ç½® --> &lt;Driver type="OPC_UA_Client"> &lt;Endpoint>opc.tcp://localhost:4840&lt;/Endpoint> &lt;UpdateRate>50&lt;/UpdateRate> &lt;/Driver> &lt;!-- è¾“å…¥è¾“å‡ºæ˜ å°„ --> &lt;Inputs> &lt;Sensor id="start_sensor" address="ns=2;i=1" /> &lt;Sensor id="end_sensor" address="ns=2;i=2" /> &lt;/Inputs> &lt;Outputs> &lt;Actuator id="conveyor_motor" address="ns=2;i=101" /> &lt;LED id="status_led" address="ns=2;i=201" /> &lt;/Outputs> 4.2 PLCç¨‹åºå¼€å‘ CODESYSæ¢¯å½¢å›¾ç¨‹åº PROGRAM MainProgram VAR // è¾“å…¥å˜é‡ start_sensor AT %I0.0 : BOOL; end_sensor AT %I0.1 : BOOL; start_button AT %I0.2 : BOOL; stop_button AT %I0.3 : BOOL; // è¾“å‡ºå˜é‡ conveyor_motor AT %Q0.0 : BOOL; status_led AT %Q0.1 : BOOL; // å†…éƒ¨å˜é‡ system_running : BOOL := FALSE; box_detected : BOOL := FALSE; process_complete : BOOL := FALSE; END_VAR // æ¢¯å½¢å›¾é€»è¾‘å®ç° METHOD LadderLogic : BOOL VAR_INPUT Input : BOOL; END_VAR VAR_OUTPUT Output : BOOL; END_VAR // å¯åŠ¨åœæ­¢é€»è¾‘ IF start_button AND NOT system_running THEN system_running := TRUE; END_IF IF stop_button AND system_running THEN system_running := FALSE; END_IF // ä¼ é€å¸¦æ§åˆ¶é€»è¾‘ IF system_running THEN conveyor_motor := TRUE; status_led := TRUE; // æ£€æµ‹åˆ°ç®±å­ IF start_sensor AND NOT box_detected THEN box_detected := TRUE; END_IF // ç®±å­åˆ°è¾¾ç»ˆç‚¹ IF end_sensor AND box_detected THEN process_complete := TRUE; box_detected := FALSE; END_IF ELSE conveyor_motor := FALSE; status_led := FALSE; box_detected := FALSE; process_complete := FALSE; END_IF çŠ¶æ€æœºå®ç° TYPE E_STATE : ( IDLE := 0, RUNNING := 1, PROCESSING := 2, COMPLETE := 3, ERROR := 4 ); END_TYPE VAR current_state : E_STATE := IDLE; state_timer : TON; error_count : INT := 0; END_VAR // çŠ¶æ€æœºé€»è¾‘ CASE current_state OF IDLE: IF start_button THEN current_state := RUNNING; state_timer(IN:=TRUE, PT:=T#5S); END_IF RUNNING: IF state_timer.Q THEN current_state := PROCESSING; state_timer(IN:=FALSE); END_IF IF stop_button THEN current_state := IDLE; END_IF PROCESSING: IF process_complete THEN current_state := COMPLETE; ELSIF error_detected THEN current_state := ERROR; error_count := error_count + 1; END_IF COMPLETE: // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€ state_timer(IN:=TRUE, PT:=T#2S); IF state_timer.Q THEN current_state := RUNNING; state_timer(IN:=FALSE); process_complete := FALSE; END_IF ERROR: IF error_count > 5 THEN current_state := IDLE; error_count := 0; ELSIF reset_button THEN current_state := RUNNING; error_count := 0; END_IF END_CASE ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ 5.1 ç³»ç»Ÿè®¾è®¡ å·¥è‰ºæµç¨‹ åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹: 1. ç®±å­è¿›å…¥ä¼ é€å¸¦ 2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰² 3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“ 4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡ 5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦ åœºæ™¯æ­å»ºæ­¥éª¤ åœºæ™¯æ­å»º: 1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ 2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m 3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®± 4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹ 5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’® 5.2 PLCç¨‹åºè®¾è®¡ æ•°æ®ç»“æ„å®šä¹‰ // ç®±å­ç±»å‹æšä¸¾ TYPE E_BOX_TYPE : ( NONE := 0, RED := 1, BLUE := 2, GREEN := 3, UNKNOWN := 4 ); END_TYPE // ç®±å­ä¿¡æ¯ç»“æ„ TYPE ST_BOX_INFO : STRUCT type : E_BOX_TYPE; position : REAL; timestamp : TIME; processed : BOOL; END_STRUCT END_TYPE // ç³»ç»ŸçŠ¶æ€ç»“æ„ TYPE ST_SYSTEM_STATUS : STRUCT total_boxes : INT := 0; red_boxes : INT := 0; blue_boxes : INT := 0; green_boxes : INT := 0; rejected_boxes : INT := 0; system_uptime : TIME; last_update : TIME; END_STRUCT END_TYPE ä¸»æ§åˆ¶ç¨‹åº PROGRAM SortingSystem VAR // è¾“å…¥ä¿¡å· entrance_sensor AT %I0.0 : BOOL; color_red_sensor AT %I0.1 : BOOL; color_blue_sensor AT %I0.2 : BOOL; color_green_sensor AT %I0.3 : BOOL; position_sensors : ARRAY[1..3] OF BOOL; // è¾“å‡ºä¿¡å· main_conveyor AT %Q0.0 : BOOL; sorting_pushers : ARRAY[1..3] OF BOOL; status_lights : ARRAY[1..3] OF BOOL; // ç³»ç»Ÿå˜é‡ box_queue : ARRAY[1..10] OF ST_BOX_INFO; system_status : ST_SYSTEM_STATUS; current_boxes_on_belt : INT := 0; // å®šæ—¶å™¨ conveyor_timer : TON; pusher_timers : ARRAY[1..3] OF TON; // çŠ¶æ€æœº system_state : E_STATE := IDLE; END_VAR // ä¸»æ§åˆ¶é€»è¾‘ METHOD ControlLogic : BOOL VAR_INPUT Execute : BOOL; END_VAR IF Execute THEN // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€ UpdateSensorStatus(); // å¤„ç†æ–°è¿›å…¥çš„ç®±å­ IF entrance_sensor AND current_boxes_on_belt &lt; 10 THEN AddNewBox(); END_IF // æ›´æ–°ç®±å­ä½ç½® UpdateBoxPositions(); // æ‰§è¡Œåˆ†æ‹£é€»è¾‘ ExecuteSorting(); // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ UpdateStatistics(); // å¼‚å¸¸æ£€æµ‹ CheckErrors(); END_IF åˆ†æ‹£ç®—æ³•å®ç° METHOD ExecuteSorting : BOOL VAR i : INT; box_to_sort : ST_BOX_INFO; target_pusher : INT; END_VAR // éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­ FOR i := 1 TO current_boxes_on_belt DO box_to_sort := box_queue[i]; // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½® IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£ CASE box_to_sort.type OF RED: IF target_pusher = 1 THEN ExecutePusher(1); system_status.red_boxes := system_status.red_boxes + 1; END_IF BLUE: IF target_pusher = 2 THEN ExecutePusher(2); system_status.blue_boxes := system_status.blue_boxes + 1; END_IF GREEN: IF target_pusher = 3 THEN ExecutePusher(3); system_status.green_boxes := system_status.green_boxes + 1; END_IF UNKNOWN: // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦ TriggerAlarm('Unknown box type detected'); system_status.rejected_boxes := system_status.rejected_boxes + 1; END_CASE // æ ‡è®°ç®±å­å·²å¤„ç† box_queue[i].processed := TRUE; END_IF; END_FOR // æ¸…ç†å·²å¤„ç†çš„ç®±å­ CleanProcessedBoxes(); ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›® 6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ é¡¹ç›®èƒŒæ™¯ é¡¹ç›®ç›®æ ‡: - è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç† - è´§ç‰©æ™ºèƒ½åˆ†æ‹£ - åº“å­˜å®æ—¶ç›‘æ§ - æœºå™¨äººåä½œæ¬è¿ ç³»ç»Ÿæ¶æ„ ç¡¬ä»¶ç»„ä»¶: 1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å– 2. AGVå°è½¦: è´§ç‰©æ¬è¿ 3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬ 4. æå‡æœº: æ¥¼å±‚è¿è¾“ 5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ« è½¯ä»¶åŠŸèƒ½: 1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ 2. è·¯å¾„è§„åˆ’ç®—æ³• 3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ 4. æ•°æ®å¯è§†åŒ– 6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ åœºæ™¯è®¾è®¡ åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ å…¥è´§åŒº â†’ ä¸»è¾“é€çº¿ â†’ åˆ†æ‹£åŒº â†’ å‡ºè´§åŒº â”‚ â”‚ â”‚ â”‚ [è´§æ¶A] [è´§æ¶B] [è´§æ¶C] [è´§æ¶D] â”‚ â”‚ â”‚ â”‚ [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢] â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ æ§åˆ¶é€»è¾‘ // ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº PROGRAM LogisticsCenter VAR // è®¢å•æ•°æ® orders : ARRAY[1..100] OF ST_ORDER; current_order : INT := 0; // è´§æ¶çŠ¶æ€ shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT; // è®¾å¤‡çŠ¶æ€ agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS; conveyor_status : ST_CONVEYOR_STATUS; // ä»»åŠ¡é˜Ÿåˆ— task_queue : ARRAY[1..50] OF ST_TASK; active_tasks : INT := 0; END_VAR // ä»»åŠ¡è°ƒåº¦ç®—æ³• METHOD TaskScheduling : BOOL VAR i : INT; best_agv : INT; min_cost : REAL := 999999; task_cost : REAL; END_VAR // ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV FOR i := 1 TO active_tasks DO // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»· FOR j := 1 TO 3 DO IF agv_fleet[j].status = IDLE THEN task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]); IF task_cost &lt; min_cost THEN min_cost := task_cost; best_agv := j; END_IF END_IF; END_FOR; // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV IF best_agv > 0 THEN AssignTaskToAGV(task_queue[i], best_agv); RemoveTaskFromQueue(i); best_agv := 0; min_cost := 999999; END_IF; END_FOR ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§ 7.1 ä»£ç ä¼˜åŒ– ç®—æ³•ä¼˜åŒ– // ä½æ•ˆçš„å®ç° FUNCTION InefficientSearch : BOOL VAR_INPUT target : INT; array_data : ARRAY[1..1000] OF INT; END_VAR VAR i : INT; END_VAR FOR i := 1 TO 1000 DO IF array_data[i] = target THEN RETURN TRUE; END_IF; END_FOR RETURN FALSE; // ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾) FUNCTION OptimizedSearch : BOOL VAR_INPUT target : INT; sorted_array : ARRAY[1..1000] OF INT; END_VAR VAR left, right, mid : INT; END_VAR left := 1; right := 1000; WHILE left &lt;= right DO mid := (left + right) / 2; IF sorted_array[mid] = target THEN RETURN TRUE; ELSIF sorted_array[mid] &lt; target THEN left := mid + 1; ELSE right := mid - 1; END_IF; END_WHILE; RETURN FALSE; 7.2 é€šä¿¡ä¼˜åŒ– æ•°æ®æ‰¹å¤„ç† // æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„ TYPE ST_BATCH_UPDATE : STRUCT timestamp : TIME; sensor_values : ARRAY[1..32] OF INT; actuator_states : ARRAY[1..16] OF BOOL; system_flags : ARRAY[1..8] OF BOOL; END_STRUCT END_TYPE // æ‰¹é‡æ›´æ–°æ–¹æ³• METHOD BatchUpdate : BOOL VAR_INPUT update_data : ST_BATCH_UPDATE; END_VAR // ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ® FOR i := 1 TO 32 DO sensor_data[i] := update_data.sensor_values[i]; END_FOR FOR i := 1 TO 16 DO actuator_data[i] := update_data.actuator_states[i]; END_FOR // åº”ç”¨æ—¶é—´æˆ³ last_update_time := update_data.timestamp; ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤ 8.1 å¸¸è§é—®é¢˜è§£å†³ é€šä¿¡é—®é¢˜ é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC è§£å†³æ­¥éª¤: 1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ 2. ç¡®è®¤é˜²ç«å¢™è®¾ç½® 3. éªŒè¯IPåœ°å€å’Œç«¯å£å· 4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ ä»¿çœŸé—®é¢˜ é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡® è§£å†³æ–¹æ³•: 1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•° 2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½® 3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦ 4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´ 8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨ æ•°æ®ç›‘æ§ // å˜é‡ç›‘æ§ç»“æ„ TYPE ST_DEBUG_INFO : STRUCT cycle_time : TIME; cpu_usage : REAL; memory_usage : REAL; communication_errors : INT; last_error_message : STRING; END_STRUCT END_TYPE // è°ƒè¯•æ•°æ®æ”¶é›† METHOD CollectDebugInfo : ST_DEBUG_INFO VAR debug_data : ST_DEBUG_INFO; END_VAR debug_data.cycle_time := GetCycleTime(); debug_data.cpu_usage := GetCPUUsage(); debug_data.memory_usage := GetMemoryUsage(); debug_data.communication_errors := GetCommErrorCount(); debug_data.last_error_message := GetLastErrorMessage(); RETURN debug_data; ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹ æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ ç³»ç»ŸåŠŸèƒ½ è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ« è½¦ä½æ™ºèƒ½åˆ†é… æ”¶è´¹è‡ªåŠ¨åŒ– å¼‚å¸¸æŠ¥è­¦å¤„ç† æŠ€æœ¯è¦ç‚¹ RFIDè½¦è¾†è¯†åˆ« å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ« æ•°æ®åº“ç®¡ç† æ”¯ä»˜ç³»ç»Ÿé›†æˆ æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿ å·¥è‰ºæµç¨‹ åŸæ–™è‡ªåŠ¨ä¸Šæ–™ åŠ å·¥è¿‡ç¨‹æ§åˆ¶ è´¨é‡æ£€æµ‹åˆ†æ‹£ åŒ…è£…è‡ªåŠ¨åŒ– æ§åˆ¶è¦ç‚¹ æ¸©åº¦ç²¾ç¡®æ§åˆ¶ é€Ÿåº¦åŒæ­¥æ§åˆ¶ è´¨é‡å®æ—¶ç›‘æ§ æ•°æ®è¿½æº¯ç³»ç»Ÿ ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®® åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ) è½¯ä»¶åŸºç¡€: Factory I/OåŸºæœ¬æ“ä½œ PLCå…¥é—¨: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹ ç®€å•é¡¹ç›®: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶ ä»¿çœŸå®è·µ: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨ ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ) é«˜çº§ç¼–ç¨‹: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹ é€šä¿¡åè®®: OPC UAã€Modbusé€šä¿¡ å¤æ‚é¡¹ç›®: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿ HMIå¼€å‘: äººæœºç•Œé¢è®¾è®¡ é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ) ç³»ç»Ÿé›†æˆ: å¤šè®¾å¤‡åè°ƒæ§åˆ¶ ç®—æ³•ä¼˜åŒ–: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³• æ•°æ®åº“é›†æˆ: MESç³»ç»Ÿå¯¹æ¥ å·¥ä¸šé¡¹ç›®: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡ ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘ ç›¸å…³è®¤è¯ è¥¿é—¨å­è®¤è¯: S7-1200/1500ç¼–ç¨‹è®¤è¯ ç½—å…‹éŸ¦å°”è®¤è¯: ControlLogixç¼–ç¨‹è®¤è¯ æ–½è€å¾·è®¤è¯: Modicon PLCè®¤è¯ ä¸‰è±è®¤è¯: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯ å°±ä¸šå²—ä½ PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ é¡¹ç›®ç»ç† Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼
...</p></div><footer class=entry-footer><span title='2025-11-08 12:00:00 +0800 CST'>2025-11-08</span>&nbsp;Â·&nbsp;<span>7 min</span>&nbsp;Â·&nbsp;<span>1464 words</span>&nbsp;Â·&nbsp;<span>dmk69</span></footer><a class=entry-link aria-label="post link to Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ" href=https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://hugo-maker-blog.vercel.app/>Automation & Industrial Control Technician</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>
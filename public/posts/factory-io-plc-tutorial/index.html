<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ | åˆ›å®¢æ•™è‚²åšå®¢</title><meta name=keywords content="PLC,Factory I/O,å·¥ä¸šè‡ªåŠ¨åŒ–,æ¢¯å½¢å›¾,ä»¿çœŸ"><meta name=description content='ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ
Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚
ğŸ¯ å­¦ä¹ ç›®æ ‡

æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³•
å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹
ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç†
å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ

ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡
2.1 Factory I/Oè½¯ä»¶å®‰è£…
ç³»ç»Ÿè¦æ±‚
æœ€ä½é…ç½®:
- æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½)
- å†…å­˜: 8GB RAM
- æ˜¾å¡: OpenGL 3.3æ”¯æŒ
- ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´

æ¨èé…ç½®:
- å†…å­˜: 16GB RAM
- æ˜¾å¡: GTX 1060æˆ–æ›´é«˜
- å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š
å®‰è£…æ­¥éª¤

è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶
é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰
è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£…
å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯

2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹©
æ”¯æŒçš„PLCè½¯ä»¶

  
      
          PLCè½¯ä»¶
          è¿æ¥æ–¹å¼
          ä»·æ ¼
          æ¨èåº¦
      
  
  
      
          CODESYS
          OPC UA/Modbus
          å…è´¹
          â­â­â­â­â­
      
      
          TwinCAT
          ADS
          å…è´¹
          â­â­â­â­
      
      
          Studio 5000
          Logix Emulator
          æ”¶è´¹
          â­â­â­
      
      
          TIA Portal
          PLCSIM Advanced
          æ”¶è´¹
          â­â­â­
      
  

CODESYSå®‰è£…é…ç½®
CODESYSå®‰è£…æ­¥éª¤:
1. ä¸‹è½½CODESYS Development System
2. å®‰è£…CODESYS Control Win V3 (è½¯PLC)
3. é…ç½®OPC UAæœåŠ¡å™¨
4. è®¾ç½®é€šä¿¡å‚æ•°
ğŸ® Factory I/Oç•Œé¢ä»‹ç»
3.1 ä¸»ç•Œé¢å¸ƒå±€
Factory I/Oç•Œé¢å¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èœå•æ : File, Edit, View, Physics, Help               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹©               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚        3Dè§†å›¾åŒºåŸŸ                         â”‚
â”‚            â”‚                                           â”‚
â”‚ ç»„ä»¶åº“     â”‚                                           â”‚
â”‚ é©±åŠ¨é…ç½®   â”‚                                           â”‚
â”‚            â”‚                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3.2 ç»„ä»¶åº“ä»‹ç»
ä¼ æ„Ÿå™¨ç»„ä»¶
ä¼ æ„Ÿå™¨ç±»å‹:
- æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘
- å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹
- è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ«
- æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡
- é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡
æ‰§è¡Œå™¨ç»„ä»¶
æ‰§è¡Œå™¨ç±»å‹:
- ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€
- æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ
- å‡é™æœº (Lift): å‚ç›´è¿è¾“
- æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™
- åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£
ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ
4.1 åœºæ™¯æ­å»º
åˆ›å»ºåŸºç¡€å¸ƒå±€
æ­¥éª¤1: åˆ›å»ºåœºæ™¯
1. æ–°å»ºåœºæ™¯ â†’ Empty Scene
2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m
3. æ·»åŠ å…‰ç…§: Directional Light

æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦
1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt
2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m
3. è®¾ç½®é€Ÿåº¦: 0.5 m/s
4. æ”¾ç½®ä½ç½®: (0, 0, 0)

æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨
1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor
2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor
3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½®
ç»„ä»¶è¿æ¥é…ç½®
<!-- Factory I/Oé©±åŠ¨é…ç½® -->
<Driver type="OPC_UA_Client">
    <Endpoint>opc.tcp://localhost:4840</Endpoint>
    <UpdateRate>50</UpdateRate>
</Driver>

<!-- è¾“å…¥è¾“å‡ºæ˜ å°„ -->
<Inputs>
    <Sensor id="start_sensor" address="ns=2;i=1" />
    <Sensor id="end_sensor" address="ns=2;i=2" />
</Inputs>

<Outputs>
    <Actuator id="conveyor_motor" address="ns=2;i=101" />
    <LED id="status_led" address="ns=2;i=201" />
</Outputs>
4.2 PLCç¨‹åºå¼€å‘
CODESYSæ¢¯å½¢å›¾ç¨‹åº
PROGRAM MainProgram
VAR
    // è¾“å…¥å˜é‡
    start_sensor AT %I0.0 : BOOL;
    end_sensor AT %I0.1 : BOOL;
    start_button AT %I0.2 : BOOL;
    stop_button AT %I0.3 : BOOL;

    // è¾“å‡ºå˜é‡
    conveyor_motor AT %Q0.0 : BOOL;
    status_led AT %Q0.1 : BOOL;

    // å†…éƒ¨å˜é‡
    system_running : BOOL := FALSE;
    box_detected : BOOL := FALSE;
    process_complete : BOOL := FALSE;
END_VAR

// æ¢¯å½¢å›¾é€»è¾‘å®ç°
METHOD LadderLogic : BOOL
VAR_INPUT
    Input : BOOL;
END_VAR
VAR_OUTPUT
    Output : BOOL;
END_VAR

// å¯åŠ¨åœæ­¢é€»è¾‘
IF start_button AND NOT system_running THEN
    system_running := TRUE;
END_IF

IF stop_button AND system_running THEN
    system_running := FALSE;
END_IF

// ä¼ é€å¸¦æ§åˆ¶é€»è¾‘
IF system_running THEN
    conveyor_motor := TRUE;
    status_led := TRUE;

    // æ£€æµ‹åˆ°ç®±å­
    IF start_sensor AND NOT box_detected THEN
        box_detected := TRUE;
    END_IF

    // ç®±å­åˆ°è¾¾ç»ˆç‚¹
    IF end_sensor AND box_detected THEN
        process_complete := TRUE;
        box_detected := FALSE;
    END_IF
ELSE
    conveyor_motor := FALSE;
    status_led := FALSE;
    box_detected := FALSE;
    process_complete := FALSE;
END_IF
çŠ¶æ€æœºå®ç°
TYPE E_STATE :
(
    IDLE := 0,
    RUNNING := 1,
    PROCESSING := 2,
    COMPLETE := 3,
    ERROR := 4
);
END_TYPE

VAR
    current_state : E_STATE := IDLE;
    state_timer : TON;
    error_count : INT := 0;
END_VAR

// çŠ¶æ€æœºé€»è¾‘
CASE current_state OF
    IDLE:
        IF start_button THEN
            current_state := RUNNING;
            state_timer(IN:=TRUE, PT:=T#5S);
        END_IF

    RUNNING:
        IF state_timer.Q THEN
            current_state := PROCESSING;
            state_timer(IN:=FALSE);
        END_IF

        IF stop_button THEN
            current_state := IDLE;
        END_IF

    PROCESSING:
        IF process_complete THEN
            current_state := COMPLETE;
        ELSIF error_detected THEN
            current_state := ERROR;
            error_count := error_count + 1;
        END_IF

    COMPLETE:
        // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€
        state_timer(IN:=TRUE, PT:=T#2S);
        IF state_timer.Q THEN
            current_state := RUNNING;
            state_timer(IN:=FALSE);
            process_complete := FALSE;
        END_IF

    ERROR:
        IF error_count > 5 THEN
            current_state := IDLE;
            error_count := 0;
        ELSIF reset_button THEN
            current_state := RUNNING;
            error_count := 0;
        END_IF
END_CASE
ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ
5.1 ç³»ç»Ÿè®¾è®¡
å·¥è‰ºæµç¨‹
åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹:
1. ç®±å­è¿›å…¥ä¼ é€å¸¦
2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰²
3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“
4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡
5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦
åœºæ™¯æ­å»ºæ­¥éª¤
åœºæ™¯æ­å»º:
1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ
2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m
3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®±
4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹
5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’®
5.2 PLCç¨‹åºè®¾è®¡
æ•°æ®ç»“æ„å®šä¹‰
// ç®±å­ç±»å‹æšä¸¾
TYPE E_BOX_TYPE :
(
    NONE := 0,
    RED := 1,
    BLUE := 2,
    GREEN := 3,
    UNKNOWN := 4
);
END_TYPE

// ç®±å­ä¿¡æ¯ç»“æ„
TYPE ST_BOX_INFO :
STRUCT
    type : E_BOX_TYPE;
    position : REAL;
    timestamp : TIME;
    processed : BOOL;
END_STRUCT
END_TYPE

// ç³»ç»ŸçŠ¶æ€ç»“æ„
TYPE ST_SYSTEM_STATUS :
STRUCT
    total_boxes : INT := 0;
    red_boxes : INT := 0;
    blue_boxes : INT := 0;
    green_boxes : INT := 0;
    rejected_boxes : INT := 0;
    system_uptime : TIME;
    last_update : TIME;
END_STRUCT
END_TYPE
ä¸»æ§åˆ¶ç¨‹åº
PROGRAM SortingSystem
VAR
    // è¾“å…¥ä¿¡å·
    entrance_sensor AT %I0.0 : BOOL;
    color_red_sensor AT %I0.1 : BOOL;
    color_blue_sensor AT %I0.2 : BOOL;
    color_green_sensor AT %I0.3 : BOOL;
    position_sensors : ARRAY[1..3] OF BOOL;

    // è¾“å‡ºä¿¡å·
    main_conveyor AT %Q0.0 : BOOL;
    sorting_pushers : ARRAY[1..3] OF BOOL;
    status_lights : ARRAY[1..3] OF BOOL;

    // ç³»ç»Ÿå˜é‡
    box_queue : ARRAY[1..10] OF ST_BOX_INFO;
    system_status : ST_SYSTEM_STATUS;
    current_boxes_on_belt : INT := 0;

    // å®šæ—¶å™¨
    conveyor_timer : TON;
    pusher_timers : ARRAY[1..3] OF TON;

    // çŠ¶æ€æœº
    system_state : E_STATE := IDLE;
END_VAR

// ä¸»æ§åˆ¶é€»è¾‘
METHOD ControlLogic : BOOL
VAR_INPUT
    Execute : BOOL;
END_VAR

IF Execute THEN
    // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€
    UpdateSensorStatus();

    // å¤„ç†æ–°è¿›å…¥çš„ç®±å­
    IF entrance_sensor AND current_boxes_on_belt < 10 THEN
        AddNewBox();
    END_IF

    // æ›´æ–°ç®±å­ä½ç½®
    UpdateBoxPositions();

    // æ‰§è¡Œåˆ†æ‹£é€»è¾‘
    ExecuteSorting();

    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    UpdateStatistics();

    // å¼‚å¸¸æ£€æµ‹
    CheckErrors();
END_IF
åˆ†æ‹£ç®—æ³•å®ç°
METHOD ExecuteSorting : BOOL
VAR
    i : INT;
    box_to_sort : ST_BOX_INFO;
    target_pusher : INT;
END_VAR

// éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­
FOR i := 1 TO current_boxes_on_belt DO
    box_to_sort := box_queue[i];

    // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½®
    IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN
        // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£
        CASE box_to_sort.type OF
            RED:
                IF target_pusher = 1 THEN
                    ExecutePusher(1);
                    system_status.red_boxes := system_status.red_boxes + 1;
                END_IF

            BLUE:
                IF target_pusher = 2 THEN
                    ExecutePusher(2);
                    system_status.blue_boxes := system_status.blue_boxes + 1;
                END_IF

            GREEN:
                IF target_pusher = 3 THEN
                    ExecutePusher(3);
                    system_status.green_boxes := system_status.green_boxes + 1;
                END_IF

            UNKNOWN:
                // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦
                TriggerAlarm(&#39;Unknown box type detected&#39;);
                system_status.rejected_boxes := system_status.rejected_boxes + 1;
        END_CASE

        // æ ‡è®°ç®±å­å·²å¤„ç†
        box_queue[i].processed := TRUE;
    END_IF;
END_FOR

// æ¸…ç†å·²å¤„ç†çš„ç®±å­
CleanProcessedBoxes();
ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›®
6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ
é¡¹ç›®èƒŒæ™¯
é¡¹ç›®ç›®æ ‡:
- è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç†
- è´§ç‰©æ™ºèƒ½åˆ†æ‹£
- åº“å­˜å®æ—¶ç›‘æ§
- æœºå™¨äººåä½œæ¬è¿
ç³»ç»Ÿæ¶æ„
ç¡¬ä»¶ç»„ä»¶:
1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å–
2. AGVå°è½¦: è´§ç‰©æ¬è¿
3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬
4. æå‡æœº: æ¥¼å±‚è¿è¾“
5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ«

è½¯ä»¶åŠŸèƒ½:
1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ
2. è·¯å¾„è§„åˆ’ç®—æ³•
3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
4. æ•°æ®å¯è§†åŒ–
6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ
åœºæ™¯è®¾è®¡
åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¥è´§åŒº  â†’  ä¸»è¾“é€çº¿  â†’  åˆ†æ‹£åŒº  â†’  å‡ºè´§åŒº  â”‚
â”‚                                        â”‚
â”‚  [è´§æ¶A]  [è´§æ¶B]  [è´§æ¶C]  [è´§æ¶D]     â”‚
â”‚                                        â”‚
â”‚        [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ§åˆ¶é€»è¾‘
// ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº
PROGRAM LogisticsCenter
VAR
    // è®¢å•æ•°æ®
    orders : ARRAY[1..100] OF ST_ORDER;
    current_order : INT := 0;

    // è´§æ¶çŠ¶æ€
    shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT;

    // è®¾å¤‡çŠ¶æ€
    agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS;
    conveyor_status : ST_CONVEYOR_STATUS;

    // ä»»åŠ¡é˜Ÿåˆ—
    task_queue : ARRAY[1..50] OF ST_TASK;
    active_tasks : INT := 0;
END_VAR

// ä»»åŠ¡è°ƒåº¦ç®—æ³•
METHOD TaskScheduling : BOOL
VAR
    i : INT;
    best_agv : INT;
    min_cost : REAL := 999999;
    task_cost : REAL;
END_VAR

// ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV
FOR i := 1 TO active_tasks DO
    // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»·
    FOR j := 1 TO 3 DO
        IF agv_fleet[j].status = IDLE THEN
            task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]);

            IF task_cost < min_cost THEN
                min_cost := task_cost;
                best_agv := j;
            END_IF
        END_IF;
    END_FOR;

    // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV
    IF best_agv > 0 THEN
        AssignTaskToAGV(task_queue[i], best_agv);
        RemoveTaskFromQueue(i);
        best_agv := 0;
        min_cost := 999999;
    END_IF;
END_FOR
ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§
7.1 ä»£ç ä¼˜åŒ–
ç®—æ³•ä¼˜åŒ–
// ä½æ•ˆçš„å®ç°
FUNCTION InefficientSearch : BOOL
VAR_INPUT
    target : INT;
    array_data : ARRAY[1..1000] OF INT;
END_VAR
VAR
    i : INT;
END_VAR

FOR i := 1 TO 1000 DO
    IF array_data[i] = target THEN
        RETURN TRUE;
    END_IF;
END_FOR

RETURN FALSE;

// ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾)
FUNCTION OptimizedSearch : BOOL
VAR_INPUT
    target : INT;
    sorted_array : ARRAY[1..1000] OF INT;
END_VAR
VAR
    left, right, mid : INT;
END_VAR

left := 1;
right := 1000;

WHILE left <= right DO
    mid := (left + right) / 2;

    IF sorted_array[mid] = target THEN
        RETURN TRUE;
    ELSIF sorted_array[mid] < target THEN
        left := mid + 1;
    ELSE
        right := mid - 1;
    END_IF;
END_WHILE;

RETURN FALSE;
7.2 é€šä¿¡ä¼˜åŒ–
æ•°æ®æ‰¹å¤„ç†
// æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„
TYPE ST_BATCH_UPDATE :
STRUCT
    timestamp : TIME;
    sensor_values : ARRAY[1..32] OF INT;
    actuator_states : ARRAY[1..16] OF BOOL;
    system_flags : ARRAY[1..8] OF BOOL;
END_STRUCT
END_TYPE

// æ‰¹é‡æ›´æ–°æ–¹æ³•
METHOD BatchUpdate : BOOL
VAR_INPUT
    update_data : ST_BATCH_UPDATE;
END_VAR

// ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ®
FOR i := 1 TO 32 DO
    sensor_data[i] := update_data.sensor_values[i];
END_FOR

FOR i := 1 TO 16 DO
    actuator_data[i] := update_data.actuator_states[i];
END_FOR

// åº”ç”¨æ—¶é—´æˆ³
last_update_time := update_data.timestamp;
ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤
8.1 å¸¸è§é—®é¢˜è§£å†³
é€šä¿¡é—®é¢˜
é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC
è§£å†³æ­¥éª¤:
1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
2. ç¡®è®¤é˜²ç«å¢™è®¾ç½®
3. éªŒè¯IPåœ°å€å’Œç«¯å£å·
4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ
ä»¿çœŸé—®é¢˜
é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡®
è§£å†³æ–¹æ³•:
1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•°
2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½®
3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦
4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´
8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨
æ•°æ®ç›‘æ§
// å˜é‡ç›‘æ§ç»“æ„
TYPE ST_DEBUG_INFO :
STRUCT
    cycle_time : TIME;
    cpu_usage : REAL;
    memory_usage : REAL;
    communication_errors : INT;
    last_error_message : STRING;
END_STRUCT
END_TYPE

// è°ƒè¯•æ•°æ®æ”¶é›†
METHOD CollectDebugInfo : ST_DEBUG_INFO
VAR
    debug_data : ST_DEBUG_INFO;
END_VAR

debug_data.cycle_time := GetCycleTime();
debug_data.cpu_usage := GetCPUUsage();
debug_data.memory_usage := GetMemoryUsage();
debug_data.communication_errors := GetCommErrorCount();
debug_data.last_error_message := GetLastErrorMessage();

RETURN debug_data;
ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹
æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ
ç³»ç»ŸåŠŸèƒ½

è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ«
è½¦ä½æ™ºèƒ½åˆ†é…
æ”¶è´¹è‡ªåŠ¨åŒ–
å¼‚å¸¸æŠ¥è­¦å¤„ç†

æŠ€æœ¯è¦ç‚¹

RFIDè½¦è¾†è¯†åˆ«
å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ«
æ•°æ®åº“ç®¡ç†
æ”¯ä»˜ç³»ç»Ÿé›†æˆ

æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿
å·¥è‰ºæµç¨‹

åŸæ–™è‡ªåŠ¨ä¸Šæ–™
åŠ å·¥è¿‡ç¨‹æ§åˆ¶
è´¨é‡æ£€æµ‹åˆ†æ‹£
åŒ…è£…è‡ªåŠ¨åŒ–

æ§åˆ¶è¦ç‚¹

æ¸©åº¦ç²¾ç¡®æ§åˆ¶
é€Ÿåº¦åŒæ­¥æ§åˆ¶
è´¨é‡å®æ—¶ç›‘æ§
æ•°æ®è¿½æº¯ç³»ç»Ÿ

ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®®
åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ)

è½¯ä»¶åŸºç¡€: Factory I/OåŸºæœ¬æ“ä½œ
PLCå…¥é—¨: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹
ç®€å•é¡¹ç›®: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶
ä»¿çœŸå®è·µ: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨

ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ)

é«˜çº§ç¼–ç¨‹: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹
é€šä¿¡åè®®: OPC UAã€Modbusé€šä¿¡
å¤æ‚é¡¹ç›®: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿
HMIå¼€å‘: äººæœºç•Œé¢è®¾è®¡

é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ)

ç³»ç»Ÿé›†æˆ: å¤šè®¾å¤‡åè°ƒæ§åˆ¶
ç®—æ³•ä¼˜åŒ–: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³•
æ•°æ®åº“é›†æˆ: MESç³»ç»Ÿå¯¹æ¥
å·¥ä¸šé¡¹ç›®: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡

ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘
ç›¸å…³è®¤è¯

è¥¿é—¨å­è®¤è¯: S7-1200/1500ç¼–ç¨‹è®¤è¯
ç½—å…‹éŸ¦å°”è®¤è¯: ControlLogixç¼–ç¨‹è®¤è¯
æ–½è€å¾·è®¤è¯: Modicon PLCè®¤è¯
ä¸‰è±è®¤è¯: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯

å°±ä¸šå²—ä½

PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ
è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ
æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ
å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ
é¡¹ç›®ç»ç†


Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼'><meta name=author content="dmk69"><link rel=canonical href=https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/"><meta property="og:site_name" content="åˆ›å®¢æ•™è‚²åšå®¢"><meta property="og:title" content="Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ"><meta property="og:description" content='ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚
ğŸ¯ å­¦ä¹ ç›®æ ‡ æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³• å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç† å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡ 2.1 Factory I/Oè½¯ä»¶å®‰è£… ç³»ç»Ÿè¦æ±‚ æœ€ä½é…ç½®: - æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½) - å†…å­˜: 8GB RAM - æ˜¾å¡: OpenGL 3.3æ”¯æŒ - ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´ æ¨èé…ç½®: - å†…å­˜: 16GB RAM - æ˜¾å¡: GTX 1060æˆ–æ›´é«˜ - å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š å®‰è£…æ­¥éª¤ è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶ é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰ è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£… å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯ 2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹© æ”¯æŒçš„PLCè½¯ä»¶ PLCè½¯ä»¶ è¿æ¥æ–¹å¼ ä»·æ ¼ æ¨èåº¦ CODESYS OPC UA/Modbus å…è´¹ â­â­â­â­â­ TwinCAT ADS å…è´¹ â­â­â­â­ Studio 5000 Logix Emulator æ”¶è´¹ â­â­â­ TIA Portal PLCSIM Advanced æ”¶è´¹ â­â­â­ CODESYSå®‰è£…é…ç½® CODESYSå®‰è£…æ­¥éª¤: 1. ä¸‹è½½CODESYS Development System 2. å®‰è£…CODESYS Control Win V3 (è½¯PLC) 3. é…ç½®OPC UAæœåŠ¡å™¨ 4. è®¾ç½®é€šä¿¡å‚æ•° ğŸ® Factory I/Oç•Œé¢ä»‹ç» 3.1 ä¸»ç•Œé¢å¸ƒå±€ Factory I/Oç•Œé¢å¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ èœå•æ : File, Edit, View, Physics, Help â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹© â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚ 3Dè§†å›¾åŒºåŸŸ â”‚ â”‚ â”‚ â”‚ â”‚ ç»„ä»¶åº“ â”‚ â”‚ â”‚ é©±åŠ¨é…ç½® â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 3.2 ç»„ä»¶åº“ä»‹ç» ä¼ æ„Ÿå™¨ç»„ä»¶ ä¼ æ„Ÿå™¨ç±»å‹: - æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘ - å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹ - è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ« - æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡ - é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡ æ‰§è¡Œå™¨ç»„ä»¶ æ‰§è¡Œå™¨ç±»å‹: - ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€ - æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ - å‡é™æœº (Lift): å‚ç›´è¿è¾“ - æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™ - åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£ ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ 4.1 åœºæ™¯æ­å»º åˆ›å»ºåŸºç¡€å¸ƒå±€ æ­¥éª¤1: åˆ›å»ºåœºæ™¯ 1. æ–°å»ºåœºæ™¯ â†’ Empty Scene 2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m 3. æ·»åŠ å…‰ç…§: Directional Light æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦ 1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt 2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m 3. è®¾ç½®é€Ÿåº¦: 0.5 m/s 4. æ”¾ç½®ä½ç½®: (0, 0, 0) æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨ 1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor 2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor 3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½® ç»„ä»¶è¿æ¥é…ç½® <!-- Factory I/Oé©±åŠ¨é…ç½® --> <Driver type="OPC_UA_Client"> <Endpoint>opc.tcp://localhost:4840</Endpoint> <UpdateRate>50</UpdateRate> </Driver> <!-- è¾“å…¥è¾“å‡ºæ˜ å°„ --> <Inputs> <Sensor id="start_sensor" address="ns=2;i=1" /> <Sensor id="end_sensor" address="ns=2;i=2" /> </Inputs> <Outputs> <Actuator id="conveyor_motor" address="ns=2;i=101" /> <LED id="status_led" address="ns=2;i=201" /> </Outputs> 4.2 PLCç¨‹åºå¼€å‘ CODESYSæ¢¯å½¢å›¾ç¨‹åº PROGRAM MainProgram VAR // è¾“å…¥å˜é‡ start_sensor AT %I0.0 : BOOL; end_sensor AT %I0.1 : BOOL; start_button AT %I0.2 : BOOL; stop_button AT %I0.3 : BOOL; // è¾“å‡ºå˜é‡ conveyor_motor AT %Q0.0 : BOOL; status_led AT %Q0.1 : BOOL; // å†…éƒ¨å˜é‡ system_running : BOOL := FALSE; box_detected : BOOL := FALSE; process_complete : BOOL := FALSE; END_VAR // æ¢¯å½¢å›¾é€»è¾‘å®ç° METHOD LadderLogic : BOOL VAR_INPUT Input : BOOL; END_VAR VAR_OUTPUT Output : BOOL; END_VAR // å¯åŠ¨åœæ­¢é€»è¾‘ IF start_button AND NOT system_running THEN system_running := TRUE; END_IF IF stop_button AND system_running THEN system_running := FALSE; END_IF // ä¼ é€å¸¦æ§åˆ¶é€»è¾‘ IF system_running THEN conveyor_motor := TRUE; status_led := TRUE; // æ£€æµ‹åˆ°ç®±å­ IF start_sensor AND NOT box_detected THEN box_detected := TRUE; END_IF // ç®±å­åˆ°è¾¾ç»ˆç‚¹ IF end_sensor AND box_detected THEN process_complete := TRUE; box_detected := FALSE; END_IF ELSE conveyor_motor := FALSE; status_led := FALSE; box_detected := FALSE; process_complete := FALSE; END_IF çŠ¶æ€æœºå®ç° TYPE E_STATE : ( IDLE := 0, RUNNING := 1, PROCESSING := 2, COMPLETE := 3, ERROR := 4 ); END_TYPE VAR current_state : E_STATE := IDLE; state_timer : TON; error_count : INT := 0; END_VAR // çŠ¶æ€æœºé€»è¾‘ CASE current_state OF IDLE: IF start_button THEN current_state := RUNNING; state_timer(IN:=TRUE, PT:=T#5S); END_IF RUNNING: IF state_timer.Q THEN current_state := PROCESSING; state_timer(IN:=FALSE); END_IF IF stop_button THEN current_state := IDLE; END_IF PROCESSING: IF process_complete THEN current_state := COMPLETE; ELSIF error_detected THEN current_state := ERROR; error_count := error_count + 1; END_IF COMPLETE: // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€ state_timer(IN:=TRUE, PT:=T#2S); IF state_timer.Q THEN current_state := RUNNING; state_timer(IN:=FALSE); process_complete := FALSE; END_IF ERROR: IF error_count > 5 THEN current_state := IDLE; error_count := 0; ELSIF reset_button THEN current_state := RUNNING; error_count := 0; END_IF END_CASE ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ 5.1 ç³»ç»Ÿè®¾è®¡ å·¥è‰ºæµç¨‹ åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹: 1. ç®±å­è¿›å…¥ä¼ é€å¸¦ 2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰² 3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“ 4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡ 5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦ åœºæ™¯æ­å»ºæ­¥éª¤ åœºæ™¯æ­å»º: 1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ 2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m 3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®± 4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹ 5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’® 5.2 PLCç¨‹åºè®¾è®¡ æ•°æ®ç»“æ„å®šä¹‰ // ç®±å­ç±»å‹æšä¸¾ TYPE E_BOX_TYPE : ( NONE := 0, RED := 1, BLUE := 2, GREEN := 3, UNKNOWN := 4 ); END_TYPE // ç®±å­ä¿¡æ¯ç»“æ„ TYPE ST_BOX_INFO : STRUCT type : E_BOX_TYPE; position : REAL; timestamp : TIME; processed : BOOL; END_STRUCT END_TYPE // ç³»ç»ŸçŠ¶æ€ç»“æ„ TYPE ST_SYSTEM_STATUS : STRUCT total_boxes : INT := 0; red_boxes : INT := 0; blue_boxes : INT := 0; green_boxes : INT := 0; rejected_boxes : INT := 0; system_uptime : TIME; last_update : TIME; END_STRUCT END_TYPE ä¸»æ§åˆ¶ç¨‹åº PROGRAM SortingSystem VAR // è¾“å…¥ä¿¡å· entrance_sensor AT %I0.0 : BOOL; color_red_sensor AT %I0.1 : BOOL; color_blue_sensor AT %I0.2 : BOOL; color_green_sensor AT %I0.3 : BOOL; position_sensors : ARRAY[1..3] OF BOOL; // è¾“å‡ºä¿¡å· main_conveyor AT %Q0.0 : BOOL; sorting_pushers : ARRAY[1..3] OF BOOL; status_lights : ARRAY[1..3] OF BOOL; // ç³»ç»Ÿå˜é‡ box_queue : ARRAY[1..10] OF ST_BOX_INFO; system_status : ST_SYSTEM_STATUS; current_boxes_on_belt : INT := 0; // å®šæ—¶å™¨ conveyor_timer : TON; pusher_timers : ARRAY[1..3] OF TON; // çŠ¶æ€æœº system_state : E_STATE := IDLE; END_VAR // ä¸»æ§åˆ¶é€»è¾‘ METHOD ControlLogic : BOOL VAR_INPUT Execute : BOOL; END_VAR IF Execute THEN // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€ UpdateSensorStatus(); // å¤„ç†æ–°è¿›å…¥çš„ç®±å­ IF entrance_sensor AND current_boxes_on_belt < 10 THEN AddNewBox(); END_IF // æ›´æ–°ç®±å­ä½ç½® UpdateBoxPositions(); // æ‰§è¡Œåˆ†æ‹£é€»è¾‘ ExecuteSorting(); // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ UpdateStatistics(); // å¼‚å¸¸æ£€æµ‹ CheckErrors(); END_IF åˆ†æ‹£ç®—æ³•å®ç° METHOD ExecuteSorting : BOOL VAR i : INT; box_to_sort : ST_BOX_INFO; target_pusher : INT; END_VAR // éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­ FOR i := 1 TO current_boxes_on_belt DO box_to_sort := box_queue[i]; // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½® IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£ CASE box_to_sort.type OF RED: IF target_pusher = 1 THEN ExecutePusher(1); system_status.red_boxes := system_status.red_boxes + 1; END_IF BLUE: IF target_pusher = 2 THEN ExecutePusher(2); system_status.blue_boxes := system_status.blue_boxes + 1; END_IF GREEN: IF target_pusher = 3 THEN ExecutePusher(3); system_status.green_boxes := system_status.green_boxes + 1; END_IF UNKNOWN: // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦ TriggerAlarm(&#39;Unknown box type detected&#39;); system_status.rejected_boxes := system_status.rejected_boxes + 1; END_CASE // æ ‡è®°ç®±å­å·²å¤„ç† box_queue[i].processed := TRUE; END_IF; END_FOR // æ¸…ç†å·²å¤„ç†çš„ç®±å­ CleanProcessedBoxes(); ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›® 6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ é¡¹ç›®èƒŒæ™¯ é¡¹ç›®ç›®æ ‡: - è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç† - è´§ç‰©æ™ºèƒ½åˆ†æ‹£ - åº“å­˜å®æ—¶ç›‘æ§ - æœºå™¨äººåä½œæ¬è¿ ç³»ç»Ÿæ¶æ„ ç¡¬ä»¶ç»„ä»¶: 1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å– 2. AGVå°è½¦: è´§ç‰©æ¬è¿ 3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬ 4. æå‡æœº: æ¥¼å±‚è¿è¾“ 5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ« è½¯ä»¶åŠŸèƒ½: 1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ 2. è·¯å¾„è§„åˆ’ç®—æ³• 3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ 4. æ•°æ®å¯è§†åŒ– 6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ åœºæ™¯è®¾è®¡ åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ å…¥è´§åŒº â†’ ä¸»è¾“é€çº¿ â†’ åˆ†æ‹£åŒº â†’ å‡ºè´§åŒº â”‚ â”‚ â”‚ â”‚ [è´§æ¶A] [è´§æ¶B] [è´§æ¶C] [è´§æ¶D] â”‚ â”‚ â”‚ â”‚ [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢] â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ æ§åˆ¶é€»è¾‘ // ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº PROGRAM LogisticsCenter VAR // è®¢å•æ•°æ® orders : ARRAY[1..100] OF ST_ORDER; current_order : INT := 0; // è´§æ¶çŠ¶æ€ shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT; // è®¾å¤‡çŠ¶æ€ agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS; conveyor_status : ST_CONVEYOR_STATUS; // ä»»åŠ¡é˜Ÿåˆ— task_queue : ARRAY[1..50] OF ST_TASK; active_tasks : INT := 0; END_VAR // ä»»åŠ¡è°ƒåº¦ç®—æ³• METHOD TaskScheduling : BOOL VAR i : INT; best_agv : INT; min_cost : REAL := 999999; task_cost : REAL; END_VAR // ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV FOR i := 1 TO active_tasks DO // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»· FOR j := 1 TO 3 DO IF agv_fleet[j].status = IDLE THEN task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]); IF task_cost < min_cost THEN min_cost := task_cost; best_agv := j; END_IF END_IF; END_FOR; // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV IF best_agv > 0 THEN AssignTaskToAGV(task_queue[i], best_agv); RemoveTaskFromQueue(i); best_agv := 0; min_cost := 999999; END_IF; END_FOR ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§ 7.1 ä»£ç ä¼˜åŒ– ç®—æ³•ä¼˜åŒ– // ä½æ•ˆçš„å®ç° FUNCTION InefficientSearch : BOOL VAR_INPUT target : INT; array_data : ARRAY[1..1000] OF INT; END_VAR VAR i : INT; END_VAR FOR i := 1 TO 1000 DO IF array_data[i] = target THEN RETURN TRUE; END_IF; END_FOR RETURN FALSE; // ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾) FUNCTION OptimizedSearch : BOOL VAR_INPUT target : INT; sorted_array : ARRAY[1..1000] OF INT; END_VAR VAR left, right, mid : INT; END_VAR left := 1; right := 1000; WHILE left <= right DO mid := (left + right) / 2; IF sorted_array[mid] = target THEN RETURN TRUE; ELSIF sorted_array[mid] < target THEN left := mid + 1; ELSE right := mid - 1; END_IF; END_WHILE; RETURN FALSE; 7.2 é€šä¿¡ä¼˜åŒ– æ•°æ®æ‰¹å¤„ç† // æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„ TYPE ST_BATCH_UPDATE : STRUCT timestamp : TIME; sensor_values : ARRAY[1..32] OF INT; actuator_states : ARRAY[1..16] OF BOOL; system_flags : ARRAY[1..8] OF BOOL; END_STRUCT END_TYPE // æ‰¹é‡æ›´æ–°æ–¹æ³• METHOD BatchUpdate : BOOL VAR_INPUT update_data : ST_BATCH_UPDATE; END_VAR // ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ® FOR i := 1 TO 32 DO sensor_data[i] := update_data.sensor_values[i]; END_FOR FOR i := 1 TO 16 DO actuator_data[i] := update_data.actuator_states[i]; END_FOR // åº”ç”¨æ—¶é—´æˆ³ last_update_time := update_data.timestamp; ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤ 8.1 å¸¸è§é—®é¢˜è§£å†³ é€šä¿¡é—®é¢˜ é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC è§£å†³æ­¥éª¤: 1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ 2. ç¡®è®¤é˜²ç«å¢™è®¾ç½® 3. éªŒè¯IPåœ°å€å’Œç«¯å£å· 4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ ä»¿çœŸé—®é¢˜ é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡® è§£å†³æ–¹æ³•: 1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•° 2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½® 3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦ 4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´ 8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨ æ•°æ®ç›‘æ§ // å˜é‡ç›‘æ§ç»“æ„ TYPE ST_DEBUG_INFO : STRUCT cycle_time : TIME; cpu_usage : REAL; memory_usage : REAL; communication_errors : INT; last_error_message : STRING; END_STRUCT END_TYPE // è°ƒè¯•æ•°æ®æ”¶é›† METHOD CollectDebugInfo : ST_DEBUG_INFO VAR debug_data : ST_DEBUG_INFO; END_VAR debug_data.cycle_time := GetCycleTime(); debug_data.cpu_usage := GetCPUUsage(); debug_data.memory_usage := GetMemoryUsage(); debug_data.communication_errors := GetCommErrorCount(); debug_data.last_error_message := GetLastErrorMessage(); RETURN debug_data; ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹ æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ ç³»ç»ŸåŠŸèƒ½ è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ« è½¦ä½æ™ºèƒ½åˆ†é… æ”¶è´¹è‡ªåŠ¨åŒ– å¼‚å¸¸æŠ¥è­¦å¤„ç† æŠ€æœ¯è¦ç‚¹ RFIDè½¦è¾†è¯†åˆ« å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ« æ•°æ®åº“ç®¡ç† æ”¯ä»˜ç³»ç»Ÿé›†æˆ æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿ å·¥è‰ºæµç¨‹ åŸæ–™è‡ªåŠ¨ä¸Šæ–™ åŠ å·¥è¿‡ç¨‹æ§åˆ¶ è´¨é‡æ£€æµ‹åˆ†æ‹£ åŒ…è£…è‡ªåŠ¨åŒ– æ§åˆ¶è¦ç‚¹ æ¸©åº¦ç²¾ç¡®æ§åˆ¶ é€Ÿåº¦åŒæ­¥æ§åˆ¶ è´¨é‡å®æ—¶ç›‘æ§ æ•°æ®è¿½æº¯ç³»ç»Ÿ ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®® åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ) è½¯ä»¶åŸºç¡€: Factory I/OåŸºæœ¬æ“ä½œ PLCå…¥é—¨: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹ ç®€å•é¡¹ç›®: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶ ä»¿çœŸå®è·µ: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨ ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ) é«˜çº§ç¼–ç¨‹: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹ é€šä¿¡åè®®: OPC UAã€Modbusé€šä¿¡ å¤æ‚é¡¹ç›®: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿ HMIå¼€å‘: äººæœºç•Œé¢è®¾è®¡ é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ) ç³»ç»Ÿé›†æˆ: å¤šè®¾å¤‡åè°ƒæ§åˆ¶ ç®—æ³•ä¼˜åŒ–: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³• æ•°æ®åº“é›†æˆ: MESç³»ç»Ÿå¯¹æ¥ å·¥ä¸šé¡¹ç›®: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡ ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘ ç›¸å…³è®¤è¯ è¥¿é—¨å­è®¤è¯: S7-1200/1500ç¼–ç¨‹è®¤è¯ ç½—å…‹éŸ¦å°”è®¤è¯: ControlLogixç¼–ç¨‹è®¤è¯ æ–½è€å¾·è®¤è¯: Modicon PLCè®¤è¯ ä¸‰è±è®¤è¯: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯ å°±ä¸šå²—ä½ PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ é¡¹ç›®ç»ç† Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼'><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-08T12:00:00+08:00"><meta property="article:modified_time" content="2025-11-08T12:00:00+08:00"><meta property="article:tag" content="PLC"><meta property="article:tag" content="Factory I/O"><meta property="article:tag" content="å·¥ä¸šè‡ªåŠ¨åŒ–"><meta property="article:tag" content="æ¢¯å½¢å›¾"><meta property="article:tag" content="ä»¿çœŸ"><meta property="og:image" content="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&amp;h=400&amp;fit=crop"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&amp;h=400&amp;fit=crop"><meta name=twitter:title content="Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ"><meta name=twitter:description content='ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ
Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚
ğŸ¯ å­¦ä¹ ç›®æ ‡

æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³•
å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹
ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç†
å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ

ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡
2.1 Factory I/Oè½¯ä»¶å®‰è£…
ç³»ç»Ÿè¦æ±‚
æœ€ä½é…ç½®:
- æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½)
- å†…å­˜: 8GB RAM
- æ˜¾å¡: OpenGL 3.3æ”¯æŒ
- ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´

æ¨èé…ç½®:
- å†…å­˜: 16GB RAM
- æ˜¾å¡: GTX 1060æˆ–æ›´é«˜
- å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š
å®‰è£…æ­¥éª¤

è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶
é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰
è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£…
å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯

2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹©
æ”¯æŒçš„PLCè½¯ä»¶

  
      
          PLCè½¯ä»¶
          è¿æ¥æ–¹å¼
          ä»·æ ¼
          æ¨èåº¦
      
  
  
      
          CODESYS
          OPC UA/Modbus
          å…è´¹
          â­â­â­â­â­
      
      
          TwinCAT
          ADS
          å…è´¹
          â­â­â­â­
      
      
          Studio 5000
          Logix Emulator
          æ”¶è´¹
          â­â­â­
      
      
          TIA Portal
          PLCSIM Advanced
          æ”¶è´¹
          â­â­â­
      
  

CODESYSå®‰è£…é…ç½®
CODESYSå®‰è£…æ­¥éª¤:
1. ä¸‹è½½CODESYS Development System
2. å®‰è£…CODESYS Control Win V3 (è½¯PLC)
3. é…ç½®OPC UAæœåŠ¡å™¨
4. è®¾ç½®é€šä¿¡å‚æ•°
ğŸ® Factory I/Oç•Œé¢ä»‹ç»
3.1 ä¸»ç•Œé¢å¸ƒå±€
Factory I/Oç•Œé¢å¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èœå•æ : File, Edit, View, Physics, Help               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹©               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚        3Dè§†å›¾åŒºåŸŸ                         â”‚
â”‚            â”‚                                           â”‚
â”‚ ç»„ä»¶åº“     â”‚                                           â”‚
â”‚ é©±åŠ¨é…ç½®   â”‚                                           â”‚
â”‚            â”‚                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3.2 ç»„ä»¶åº“ä»‹ç»
ä¼ æ„Ÿå™¨ç»„ä»¶
ä¼ æ„Ÿå™¨ç±»å‹:
- æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘
- å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹
- è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ«
- æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡
- é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡
æ‰§è¡Œå™¨ç»„ä»¶
æ‰§è¡Œå™¨ç±»å‹:
- ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€
- æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ
- å‡é™æœº (Lift): å‚ç›´è¿è¾“
- æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™
- åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£
ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ
4.1 åœºæ™¯æ­å»º
åˆ›å»ºåŸºç¡€å¸ƒå±€
æ­¥éª¤1: åˆ›å»ºåœºæ™¯
1. æ–°å»ºåœºæ™¯ â†’ Empty Scene
2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m
3. æ·»åŠ å…‰ç…§: Directional Light

æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦
1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt
2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m
3. è®¾ç½®é€Ÿåº¦: 0.5 m/s
4. æ”¾ç½®ä½ç½®: (0, 0, 0)

æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨
1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor
2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor
3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½®
ç»„ä»¶è¿æ¥é…ç½®
<!-- Factory I/Oé©±åŠ¨é…ç½® -->
<Driver type="OPC_UA_Client">
    <Endpoint>opc.tcp://localhost:4840</Endpoint>
    <UpdateRate>50</UpdateRate>
</Driver>

<!-- è¾“å…¥è¾“å‡ºæ˜ å°„ -->
<Inputs>
    <Sensor id="start_sensor" address="ns=2;i=1" />
    <Sensor id="end_sensor" address="ns=2;i=2" />
</Inputs>

<Outputs>
    <Actuator id="conveyor_motor" address="ns=2;i=101" />
    <LED id="status_led" address="ns=2;i=201" />
</Outputs>
4.2 PLCç¨‹åºå¼€å‘
CODESYSæ¢¯å½¢å›¾ç¨‹åº
PROGRAM MainProgram
VAR
    // è¾“å…¥å˜é‡
    start_sensor AT %I0.0 : BOOL;
    end_sensor AT %I0.1 : BOOL;
    start_button AT %I0.2 : BOOL;
    stop_button AT %I0.3 : BOOL;

    // è¾“å‡ºå˜é‡
    conveyor_motor AT %Q0.0 : BOOL;
    status_led AT %Q0.1 : BOOL;

    // å†…éƒ¨å˜é‡
    system_running : BOOL := FALSE;
    box_detected : BOOL := FALSE;
    process_complete : BOOL := FALSE;
END_VAR

// æ¢¯å½¢å›¾é€»è¾‘å®ç°
METHOD LadderLogic : BOOL
VAR_INPUT
    Input : BOOL;
END_VAR
VAR_OUTPUT
    Output : BOOL;
END_VAR

// å¯åŠ¨åœæ­¢é€»è¾‘
IF start_button AND NOT system_running THEN
    system_running := TRUE;
END_IF

IF stop_button AND system_running THEN
    system_running := FALSE;
END_IF

// ä¼ é€å¸¦æ§åˆ¶é€»è¾‘
IF system_running THEN
    conveyor_motor := TRUE;
    status_led := TRUE;

    // æ£€æµ‹åˆ°ç®±å­
    IF start_sensor AND NOT box_detected THEN
        box_detected := TRUE;
    END_IF

    // ç®±å­åˆ°è¾¾ç»ˆç‚¹
    IF end_sensor AND box_detected THEN
        process_complete := TRUE;
        box_detected := FALSE;
    END_IF
ELSE
    conveyor_motor := FALSE;
    status_led := FALSE;
    box_detected := FALSE;
    process_complete := FALSE;
END_IF
çŠ¶æ€æœºå®ç°
TYPE E_STATE :
(
    IDLE := 0,
    RUNNING := 1,
    PROCESSING := 2,
    COMPLETE := 3,
    ERROR := 4
);
END_TYPE

VAR
    current_state : E_STATE := IDLE;
    state_timer : TON;
    error_count : INT := 0;
END_VAR

// çŠ¶æ€æœºé€»è¾‘
CASE current_state OF
    IDLE:
        IF start_button THEN
            current_state := RUNNING;
            state_timer(IN:=TRUE, PT:=T#5S);
        END_IF

    RUNNING:
        IF state_timer.Q THEN
            current_state := PROCESSING;
            state_timer(IN:=FALSE);
        END_IF

        IF stop_button THEN
            current_state := IDLE;
        END_IF

    PROCESSING:
        IF process_complete THEN
            current_state := COMPLETE;
        ELSIF error_detected THEN
            current_state := ERROR;
            error_count := error_count + 1;
        END_IF

    COMPLETE:
        // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€
        state_timer(IN:=TRUE, PT:=T#2S);
        IF state_timer.Q THEN
            current_state := RUNNING;
            state_timer(IN:=FALSE);
            process_complete := FALSE;
        END_IF

    ERROR:
        IF error_count > 5 THEN
            current_state := IDLE;
            error_count := 0;
        ELSIF reset_button THEN
            current_state := RUNNING;
            error_count := 0;
        END_IF
END_CASE
ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ
5.1 ç³»ç»Ÿè®¾è®¡
å·¥è‰ºæµç¨‹
åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹:
1. ç®±å­è¿›å…¥ä¼ é€å¸¦
2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰²
3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“
4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡
5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦
åœºæ™¯æ­å»ºæ­¥éª¤
åœºæ™¯æ­å»º:
1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ
2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m
3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®±
4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹
5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’®
5.2 PLCç¨‹åºè®¾è®¡
æ•°æ®ç»“æ„å®šä¹‰
// ç®±å­ç±»å‹æšä¸¾
TYPE E_BOX_TYPE :
(
    NONE := 0,
    RED := 1,
    BLUE := 2,
    GREEN := 3,
    UNKNOWN := 4
);
END_TYPE

// ç®±å­ä¿¡æ¯ç»“æ„
TYPE ST_BOX_INFO :
STRUCT
    type : E_BOX_TYPE;
    position : REAL;
    timestamp : TIME;
    processed : BOOL;
END_STRUCT
END_TYPE

// ç³»ç»ŸçŠ¶æ€ç»“æ„
TYPE ST_SYSTEM_STATUS :
STRUCT
    total_boxes : INT := 0;
    red_boxes : INT := 0;
    blue_boxes : INT := 0;
    green_boxes : INT := 0;
    rejected_boxes : INT := 0;
    system_uptime : TIME;
    last_update : TIME;
END_STRUCT
END_TYPE
ä¸»æ§åˆ¶ç¨‹åº
PROGRAM SortingSystem
VAR
    // è¾“å…¥ä¿¡å·
    entrance_sensor AT %I0.0 : BOOL;
    color_red_sensor AT %I0.1 : BOOL;
    color_blue_sensor AT %I0.2 : BOOL;
    color_green_sensor AT %I0.3 : BOOL;
    position_sensors : ARRAY[1..3] OF BOOL;

    // è¾“å‡ºä¿¡å·
    main_conveyor AT %Q0.0 : BOOL;
    sorting_pushers : ARRAY[1..3] OF BOOL;
    status_lights : ARRAY[1..3] OF BOOL;

    // ç³»ç»Ÿå˜é‡
    box_queue : ARRAY[1..10] OF ST_BOX_INFO;
    system_status : ST_SYSTEM_STATUS;
    current_boxes_on_belt : INT := 0;

    // å®šæ—¶å™¨
    conveyor_timer : TON;
    pusher_timers : ARRAY[1..3] OF TON;

    // çŠ¶æ€æœº
    system_state : E_STATE := IDLE;
END_VAR

// ä¸»æ§åˆ¶é€»è¾‘
METHOD ControlLogic : BOOL
VAR_INPUT
    Execute : BOOL;
END_VAR

IF Execute THEN
    // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€
    UpdateSensorStatus();

    // å¤„ç†æ–°è¿›å…¥çš„ç®±å­
    IF entrance_sensor AND current_boxes_on_belt < 10 THEN
        AddNewBox();
    END_IF

    // æ›´æ–°ç®±å­ä½ç½®
    UpdateBoxPositions();

    // æ‰§è¡Œåˆ†æ‹£é€»è¾‘
    ExecuteSorting();

    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    UpdateStatistics();

    // å¼‚å¸¸æ£€æµ‹
    CheckErrors();
END_IF
åˆ†æ‹£ç®—æ³•å®ç°
METHOD ExecuteSorting : BOOL
VAR
    i : INT;
    box_to_sort : ST_BOX_INFO;
    target_pusher : INT;
END_VAR

// éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­
FOR i := 1 TO current_boxes_on_belt DO
    box_to_sort := box_queue[i];

    // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½®
    IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN
        // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£
        CASE box_to_sort.type OF
            RED:
                IF target_pusher = 1 THEN
                    ExecutePusher(1);
                    system_status.red_boxes := system_status.red_boxes + 1;
                END_IF

            BLUE:
                IF target_pusher = 2 THEN
                    ExecutePusher(2);
                    system_status.blue_boxes := system_status.blue_boxes + 1;
                END_IF

            GREEN:
                IF target_pusher = 3 THEN
                    ExecutePusher(3);
                    system_status.green_boxes := system_status.green_boxes + 1;
                END_IF

            UNKNOWN:
                // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦
                TriggerAlarm(&#39;Unknown box type detected&#39;);
                system_status.rejected_boxes := system_status.rejected_boxes + 1;
        END_CASE

        // æ ‡è®°ç®±å­å·²å¤„ç†
        box_queue[i].processed := TRUE;
    END_IF;
END_FOR

// æ¸…ç†å·²å¤„ç†çš„ç®±å­
CleanProcessedBoxes();
ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›®
6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ
é¡¹ç›®èƒŒæ™¯
é¡¹ç›®ç›®æ ‡:
- è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç†
- è´§ç‰©æ™ºèƒ½åˆ†æ‹£
- åº“å­˜å®æ—¶ç›‘æ§
- æœºå™¨äººåä½œæ¬è¿
ç³»ç»Ÿæ¶æ„
ç¡¬ä»¶ç»„ä»¶:
1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å–
2. AGVå°è½¦: è´§ç‰©æ¬è¿
3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬
4. æå‡æœº: æ¥¼å±‚è¿è¾“
5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ«

è½¯ä»¶åŠŸèƒ½:
1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ
2. è·¯å¾„è§„åˆ’ç®—æ³•
3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
4. æ•°æ®å¯è§†åŒ–
6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ
åœºæ™¯è®¾è®¡
åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¥è´§åŒº  â†’  ä¸»è¾“é€çº¿  â†’  åˆ†æ‹£åŒº  â†’  å‡ºè´§åŒº  â”‚
â”‚                                        â”‚
â”‚  [è´§æ¶A]  [è´§æ¶B]  [è´§æ¶C]  [è´§æ¶D]     â”‚
â”‚                                        â”‚
â”‚        [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ§åˆ¶é€»è¾‘
// ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº
PROGRAM LogisticsCenter
VAR
    // è®¢å•æ•°æ®
    orders : ARRAY[1..100] OF ST_ORDER;
    current_order : INT := 0;

    // è´§æ¶çŠ¶æ€
    shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT;

    // è®¾å¤‡çŠ¶æ€
    agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS;
    conveyor_status : ST_CONVEYOR_STATUS;

    // ä»»åŠ¡é˜Ÿåˆ—
    task_queue : ARRAY[1..50] OF ST_TASK;
    active_tasks : INT := 0;
END_VAR

// ä»»åŠ¡è°ƒåº¦ç®—æ³•
METHOD TaskScheduling : BOOL
VAR
    i : INT;
    best_agv : INT;
    min_cost : REAL := 999999;
    task_cost : REAL;
END_VAR

// ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV
FOR i := 1 TO active_tasks DO
    // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»·
    FOR j := 1 TO 3 DO
        IF agv_fleet[j].status = IDLE THEN
            task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]);

            IF task_cost < min_cost THEN
                min_cost := task_cost;
                best_agv := j;
            END_IF
        END_IF;
    END_FOR;

    // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV
    IF best_agv > 0 THEN
        AssignTaskToAGV(task_queue[i], best_agv);
        RemoveTaskFromQueue(i);
        best_agv := 0;
        min_cost := 999999;
    END_IF;
END_FOR
ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§
7.1 ä»£ç ä¼˜åŒ–
ç®—æ³•ä¼˜åŒ–
// ä½æ•ˆçš„å®ç°
FUNCTION InefficientSearch : BOOL
VAR_INPUT
    target : INT;
    array_data : ARRAY[1..1000] OF INT;
END_VAR
VAR
    i : INT;
END_VAR

FOR i := 1 TO 1000 DO
    IF array_data[i] = target THEN
        RETURN TRUE;
    END_IF;
END_FOR

RETURN FALSE;

// ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾)
FUNCTION OptimizedSearch : BOOL
VAR_INPUT
    target : INT;
    sorted_array : ARRAY[1..1000] OF INT;
END_VAR
VAR
    left, right, mid : INT;
END_VAR

left := 1;
right := 1000;

WHILE left <= right DO
    mid := (left + right) / 2;

    IF sorted_array[mid] = target THEN
        RETURN TRUE;
    ELSIF sorted_array[mid] < target THEN
        left := mid + 1;
    ELSE
        right := mid - 1;
    END_IF;
END_WHILE;

RETURN FALSE;
7.2 é€šä¿¡ä¼˜åŒ–
æ•°æ®æ‰¹å¤„ç†
// æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„
TYPE ST_BATCH_UPDATE :
STRUCT
    timestamp : TIME;
    sensor_values : ARRAY[1..32] OF INT;
    actuator_states : ARRAY[1..16] OF BOOL;
    system_flags : ARRAY[1..8] OF BOOL;
END_STRUCT
END_TYPE

// æ‰¹é‡æ›´æ–°æ–¹æ³•
METHOD BatchUpdate : BOOL
VAR_INPUT
    update_data : ST_BATCH_UPDATE;
END_VAR

// ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ®
FOR i := 1 TO 32 DO
    sensor_data[i] := update_data.sensor_values[i];
END_FOR

FOR i := 1 TO 16 DO
    actuator_data[i] := update_data.actuator_states[i];
END_FOR

// åº”ç”¨æ—¶é—´æˆ³
last_update_time := update_data.timestamp;
ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤
8.1 å¸¸è§é—®é¢˜è§£å†³
é€šä¿¡é—®é¢˜
é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC
è§£å†³æ­¥éª¤:
1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
2. ç¡®è®¤é˜²ç«å¢™è®¾ç½®
3. éªŒè¯IPåœ°å€å’Œç«¯å£å·
4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ
ä»¿çœŸé—®é¢˜
é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡®
è§£å†³æ–¹æ³•:
1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•°
2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½®
3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦
4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´
8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨
æ•°æ®ç›‘æ§
// å˜é‡ç›‘æ§ç»“æ„
TYPE ST_DEBUG_INFO :
STRUCT
    cycle_time : TIME;
    cpu_usage : REAL;
    memory_usage : REAL;
    communication_errors : INT;
    last_error_message : STRING;
END_STRUCT
END_TYPE

// è°ƒè¯•æ•°æ®æ”¶é›†
METHOD CollectDebugInfo : ST_DEBUG_INFO
VAR
    debug_data : ST_DEBUG_INFO;
END_VAR

debug_data.cycle_time := GetCycleTime();
debug_data.cpu_usage := GetCPUUsage();
debug_data.memory_usage := GetMemoryUsage();
debug_data.communication_errors := GetCommErrorCount();
debug_data.last_error_message := GetLastErrorMessage();

RETURN debug_data;
ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹
æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ
ç³»ç»ŸåŠŸèƒ½

è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ«
è½¦ä½æ™ºèƒ½åˆ†é…
æ”¶è´¹è‡ªåŠ¨åŒ–
å¼‚å¸¸æŠ¥è­¦å¤„ç†

æŠ€æœ¯è¦ç‚¹

RFIDè½¦è¾†è¯†åˆ«
å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ«
æ•°æ®åº“ç®¡ç†
æ”¯ä»˜ç³»ç»Ÿé›†æˆ

æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿
å·¥è‰ºæµç¨‹

åŸæ–™è‡ªåŠ¨ä¸Šæ–™
åŠ å·¥è¿‡ç¨‹æ§åˆ¶
è´¨é‡æ£€æµ‹åˆ†æ‹£
åŒ…è£…è‡ªåŠ¨åŒ–

æ§åˆ¶è¦ç‚¹

æ¸©åº¦ç²¾ç¡®æ§åˆ¶
é€Ÿåº¦åŒæ­¥æ§åˆ¶
è´¨é‡å®æ—¶ç›‘æ§
æ•°æ®è¿½æº¯ç³»ç»Ÿ

ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®®
åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ)

è½¯ä»¶åŸºç¡€: Factory I/OåŸºæœ¬æ“ä½œ
PLCå…¥é—¨: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹
ç®€å•é¡¹ç›®: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶
ä»¿çœŸå®è·µ: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨

ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ)

é«˜çº§ç¼–ç¨‹: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹
é€šä¿¡åè®®: OPC UAã€Modbusé€šä¿¡
å¤æ‚é¡¹ç›®: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿
HMIå¼€å‘: äººæœºç•Œé¢è®¾è®¡

é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ)

ç³»ç»Ÿé›†æˆ: å¤šè®¾å¤‡åè°ƒæ§åˆ¶
ç®—æ³•ä¼˜åŒ–: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³•
æ•°æ®åº“é›†æˆ: MESç³»ç»Ÿå¯¹æ¥
å·¥ä¸šé¡¹ç›®: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡

ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘
ç›¸å…³è®¤è¯

è¥¿é—¨å­è®¤è¯: S7-1200/1500ç¼–ç¨‹è®¤è¯
ç½—å…‹éŸ¦å°”è®¤è¯: ControlLogixç¼–ç¨‹è®¤è¯
æ–½è€å¾·è®¤è¯: Modicon PLCè®¤è¯
ä¸‰è±è®¤è¯: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯

å°±ä¸šå²—ä½

PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ
è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ
æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ
å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ
é¡¹ç›®ç»ç†


Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hugo-maker-blog.vercel.app/posts/"},{"@type":"ListItem","position":2,"name":"Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ","item":"https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ","name":"Factory I\/O \u002b PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ","description":"ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚\nğŸ¯ å­¦ä¹ ç›®æ ‡ æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³• å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç† å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡ 2.1 Factory I/Oè½¯ä»¶å®‰è£… ç³»ç»Ÿè¦æ±‚ æœ€ä½é…ç½®: - æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½) - å†…å­˜: 8GB RAM - æ˜¾å¡: OpenGL 3.3æ”¯æŒ - ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´ æ¨èé…ç½®: - å†…å­˜: 16GB RAM - æ˜¾å¡: GTX 1060æˆ–æ›´é«˜ - å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š å®‰è£…æ­¥éª¤ è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶ é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰ è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£… å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯ 2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹© æ”¯æŒçš„PLCè½¯ä»¶ PLCè½¯ä»¶ è¿æ¥æ–¹å¼ ä»·æ ¼ æ¨èåº¦ CODESYS OPC UA/Modbus å…è´¹ â­â­â­â­â­ TwinCAT ADS å…è´¹ â­â­â­â­ Studio 5000 Logix Emulator æ”¶è´¹ â­â­â­ TIA Portal PLCSIM Advanced æ”¶è´¹ â­â­â­ CODESYSå®‰è£…é…ç½® CODESYSå®‰è£…æ­¥éª¤: 1. ä¸‹è½½CODESYS Development System 2. å®‰è£…CODESYS Control Win V3 (è½¯PLC) 3. é…ç½®OPC UAæœåŠ¡å™¨ 4. è®¾ç½®é€šä¿¡å‚æ•° ğŸ® Factory I/Oç•Œé¢ä»‹ç» 3.1 ä¸»ç•Œé¢å¸ƒå±€ Factory I/Oç•Œé¢å¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ èœå•æ : File, Edit, View, Physics, Help â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹© â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚ 3Dè§†å›¾åŒºåŸŸ â”‚ â”‚ â”‚ â”‚ â”‚ ç»„ä»¶åº“ â”‚ â”‚ â”‚ é©±åŠ¨é…ç½® â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 3.2 ç»„ä»¶åº“ä»‹ç» ä¼ æ„Ÿå™¨ç»„ä»¶ ä¼ æ„Ÿå™¨ç±»å‹: - æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘ - å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹ - è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ« - æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡ - é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡ æ‰§è¡Œå™¨ç»„ä»¶ æ‰§è¡Œå™¨ç±»å‹: - ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€ - æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ - å‡é™æœº (Lift): å‚ç›´è¿è¾“ - æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™ - åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£ ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ 4.1 åœºæ™¯æ­å»º åˆ›å»ºåŸºç¡€å¸ƒå±€ æ­¥éª¤1: åˆ›å»ºåœºæ™¯ 1. æ–°å»ºåœºæ™¯ â†’ Empty Scene 2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m 3. æ·»åŠ å…‰ç…§: Directional Light æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦ 1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt 2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m 3. è®¾ç½®é€Ÿåº¦: 0.5 m/s 4. æ”¾ç½®ä½ç½®: (0, 0, 0) æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨ 1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor 2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor 3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½® ç»„ä»¶è¿æ¥é…ç½® \u0026lt;!-- Factory I/Oé©±åŠ¨é…ç½® --\u0026gt; \u0026lt;Driver type=\u0026#34;OPC_UA_Client\u0026#34;\u0026gt; \u0026lt;Endpoint\u0026gt;opc.tcp://localhost:4840\u0026lt;/Endpoint\u0026gt; \u0026lt;UpdateRate\u0026gt;50\u0026lt;/UpdateRate\u0026gt; \u0026lt;/Driver\u0026gt; \u0026lt;!-- è¾“å…¥è¾“å‡ºæ˜ å°„ --\u0026gt; \u0026lt;Inputs\u0026gt; \u0026lt;Sensor id=\u0026#34;start_sensor\u0026#34; address=\u0026#34;ns=2;i=1\u0026#34; /\u0026gt; \u0026lt;Sensor id=\u0026#34;end_sensor\u0026#34; address=\u0026#34;ns=2;i=2\u0026#34; /\u0026gt; \u0026lt;/Inputs\u0026gt; \u0026lt;Outputs\u0026gt; \u0026lt;Actuator id=\u0026#34;conveyor_motor\u0026#34; address=\u0026#34;ns=2;i=101\u0026#34; /\u0026gt; \u0026lt;LED id=\u0026#34;status_led\u0026#34; address=\u0026#34;ns=2;i=201\u0026#34; /\u0026gt; \u0026lt;/Outputs\u0026gt; 4.2 PLCç¨‹åºå¼€å‘ CODESYSæ¢¯å½¢å›¾ç¨‹åº PROGRAM MainProgram VAR // è¾“å…¥å˜é‡ start_sensor AT %I0.0 : BOOL; end_sensor AT %I0.1 : BOOL; start_button AT %I0.2 : BOOL; stop_button AT %I0.3 : BOOL; // è¾“å‡ºå˜é‡ conveyor_motor AT %Q0.0 : BOOL; status_led AT %Q0.1 : BOOL; // å†…éƒ¨å˜é‡ system_running : BOOL := FALSE; box_detected : BOOL := FALSE; process_complete : BOOL := FALSE; END_VAR // æ¢¯å½¢å›¾é€»è¾‘å®ç° METHOD LadderLogic : BOOL VAR_INPUT Input : BOOL; END_VAR VAR_OUTPUT Output : BOOL; END_VAR // å¯åŠ¨åœæ­¢é€»è¾‘ IF start_button AND NOT system_running THEN system_running := TRUE; END_IF IF stop_button AND system_running THEN system_running := FALSE; END_IF // ä¼ é€å¸¦æ§åˆ¶é€»è¾‘ IF system_running THEN conveyor_motor := TRUE; status_led := TRUE; // æ£€æµ‹åˆ°ç®±å­ IF start_sensor AND NOT box_detected THEN box_detected := TRUE; END_IF // ç®±å­åˆ°è¾¾ç»ˆç‚¹ IF end_sensor AND box_detected THEN process_complete := TRUE; box_detected := FALSE; END_IF ELSE conveyor_motor := FALSE; status_led := FALSE; box_detected := FALSE; process_complete := FALSE; END_IF çŠ¶æ€æœºå®ç° TYPE E_STATE : ( IDLE := 0, RUNNING := 1, PROCESSING := 2, COMPLETE := 3, ERROR := 4 ); END_TYPE VAR current_state : E_STATE := IDLE; state_timer : TON; error_count : INT := 0; END_VAR // çŠ¶æ€æœºé€»è¾‘ CASE current_state OF IDLE: IF start_button THEN current_state := RUNNING; state_timer(IN:=TRUE, PT:=T#5S); END_IF RUNNING: IF state_timer.Q THEN current_state := PROCESSING; state_timer(IN:=FALSE); END_IF IF stop_button THEN current_state := IDLE; END_IF PROCESSING: IF process_complete THEN current_state := COMPLETE; ELSIF error_detected THEN current_state := ERROR; error_count := error_count + 1; END_IF COMPLETE: // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€ state_timer(IN:=TRUE, PT:=T#2S); IF state_timer.Q THEN current_state := RUNNING; state_timer(IN:=FALSE); process_complete := FALSE; END_IF ERROR: IF error_count \u0026gt; 5 THEN current_state := IDLE; error_count := 0; ELSIF reset_button THEN current_state := RUNNING; error_count := 0; END_IF END_CASE ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ 5.1 ç³»ç»Ÿè®¾è®¡ å·¥è‰ºæµç¨‹ åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹: 1. ç®±å­è¿›å…¥ä¼ é€å¸¦ 2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰² 3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“ 4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡ 5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦ åœºæ™¯æ­å»ºæ­¥éª¤ åœºæ™¯æ­å»º: 1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ 2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m 3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®± 4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹ 5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’® 5.2 PLCç¨‹åºè®¾è®¡ æ•°æ®ç»“æ„å®šä¹‰ // ç®±å­ç±»å‹æšä¸¾ TYPE E_BOX_TYPE : ( NONE := 0, RED := 1, BLUE := 2, GREEN := 3, UNKNOWN := 4 ); END_TYPE // ç®±å­ä¿¡æ¯ç»“æ„ TYPE ST_BOX_INFO : STRUCT type : E_BOX_TYPE; position : REAL; timestamp : TIME; processed : BOOL; END_STRUCT END_TYPE // ç³»ç»ŸçŠ¶æ€ç»“æ„ TYPE ST_SYSTEM_STATUS : STRUCT total_boxes : INT := 0; red_boxes : INT := 0; blue_boxes : INT := 0; green_boxes : INT := 0; rejected_boxes : INT := 0; system_uptime : TIME; last_update : TIME; END_STRUCT END_TYPE ä¸»æ§åˆ¶ç¨‹åº PROGRAM SortingSystem VAR // è¾“å…¥ä¿¡å· entrance_sensor AT %I0.0 : BOOL; color_red_sensor AT %I0.1 : BOOL; color_blue_sensor AT %I0.2 : BOOL; color_green_sensor AT %I0.3 : BOOL; position_sensors : ARRAY[1..3] OF BOOL; // è¾“å‡ºä¿¡å· main_conveyor AT %Q0.0 : BOOL; sorting_pushers : ARRAY[1..3] OF BOOL; status_lights : ARRAY[1..3] OF BOOL; // ç³»ç»Ÿå˜é‡ box_queue : ARRAY[1..10] OF ST_BOX_INFO; system_status : ST_SYSTEM_STATUS; current_boxes_on_belt : INT := 0; // å®šæ—¶å™¨ conveyor_timer : TON; pusher_timers : ARRAY[1..3] OF TON; // çŠ¶æ€æœº system_state : E_STATE := IDLE; END_VAR // ä¸»æ§åˆ¶é€»è¾‘ METHOD ControlLogic : BOOL VAR_INPUT Execute : BOOL; END_VAR IF Execute THEN // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€ UpdateSensorStatus(); // å¤„ç†æ–°è¿›å…¥çš„ç®±å­ IF entrance_sensor AND current_boxes_on_belt \u0026lt; 10 THEN AddNewBox(); END_IF // æ›´æ–°ç®±å­ä½ç½® UpdateBoxPositions(); // æ‰§è¡Œåˆ†æ‹£é€»è¾‘ ExecuteSorting(); // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ UpdateStatistics(); // å¼‚å¸¸æ£€æµ‹ CheckErrors(); END_IF åˆ†æ‹£ç®—æ³•å®ç° METHOD ExecuteSorting : BOOL VAR i : INT; box_to_sort : ST_BOX_INFO; target_pusher : INT; END_VAR // éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­ FOR i := 1 TO current_boxes_on_belt DO box_to_sort := box_queue[i]; // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½® IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£ CASE box_to_sort.type OF RED: IF target_pusher = 1 THEN ExecutePusher(1); system_status.red_boxes := system_status.red_boxes + 1; END_IF BLUE: IF target_pusher = 2 THEN ExecutePusher(2); system_status.blue_boxes := system_status.blue_boxes + 1; END_IF GREEN: IF target_pusher = 3 THEN ExecutePusher(3); system_status.green_boxes := system_status.green_boxes + 1; END_IF UNKNOWN: // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦ TriggerAlarm(\u0026#39;Unknown box type detected\u0026#39;); system_status.rejected_boxes := system_status.rejected_boxes + 1; END_CASE // æ ‡è®°ç®±å­å·²å¤„ç† box_queue[i].processed := TRUE; END_IF; END_FOR // æ¸…ç†å·²å¤„ç†çš„ç®±å­ CleanProcessedBoxes(); ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›® 6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ é¡¹ç›®èƒŒæ™¯ é¡¹ç›®ç›®æ ‡: - è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç† - è´§ç‰©æ™ºèƒ½åˆ†æ‹£ - åº“å­˜å®æ—¶ç›‘æ§ - æœºå™¨äººåä½œæ¬è¿ ç³»ç»Ÿæ¶æ„ ç¡¬ä»¶ç»„ä»¶: 1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å– 2. AGVå°è½¦: è´§ç‰©æ¬è¿ 3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬ 4. æå‡æœº: æ¥¼å±‚è¿è¾“ 5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ« è½¯ä»¶åŠŸèƒ½: 1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ 2. è·¯å¾„è§„åˆ’ç®—æ³• 3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ 4. æ•°æ®å¯è§†åŒ– 6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ åœºæ™¯è®¾è®¡ åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ å…¥è´§åŒº â†’ ä¸»è¾“é€çº¿ â†’ åˆ†æ‹£åŒº â†’ å‡ºè´§åŒº â”‚ â”‚ â”‚ â”‚ [è´§æ¶A] [è´§æ¶B] [è´§æ¶C] [è´§æ¶D] â”‚ â”‚ â”‚ â”‚ [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢] â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ æ§åˆ¶é€»è¾‘ // ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº PROGRAM LogisticsCenter VAR // è®¢å•æ•°æ® orders : ARRAY[1..100] OF ST_ORDER; current_order : INT := 0; // è´§æ¶çŠ¶æ€ shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT; // è®¾å¤‡çŠ¶æ€ agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS; conveyor_status : ST_CONVEYOR_STATUS; // ä»»åŠ¡é˜Ÿåˆ— task_queue : ARRAY[1..50] OF ST_TASK; active_tasks : INT := 0; END_VAR // ä»»åŠ¡è°ƒåº¦ç®—æ³• METHOD TaskScheduling : BOOL VAR i : INT; best_agv : INT; min_cost : REAL := 999999; task_cost : REAL; END_VAR // ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV FOR i := 1 TO active_tasks DO // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»· FOR j := 1 TO 3 DO IF agv_fleet[j].status = IDLE THEN task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]); IF task_cost \u0026lt; min_cost THEN min_cost := task_cost; best_agv := j; END_IF END_IF; END_FOR; // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV IF best_agv \u0026gt; 0 THEN AssignTaskToAGV(task_queue[i], best_agv); RemoveTaskFromQueue(i); best_agv := 0; min_cost := 999999; END_IF; END_FOR ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§ 7.1 ä»£ç ä¼˜åŒ– ç®—æ³•ä¼˜åŒ– // ä½æ•ˆçš„å®ç° FUNCTION InefficientSearch : BOOL VAR_INPUT target : INT; array_data : ARRAY[1..1000] OF INT; END_VAR VAR i : INT; END_VAR FOR i := 1 TO 1000 DO IF array_data[i] = target THEN RETURN TRUE; END_IF; END_FOR RETURN FALSE; // ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾) FUNCTION OptimizedSearch : BOOL VAR_INPUT target : INT; sorted_array : ARRAY[1..1000] OF INT; END_VAR VAR left, right, mid : INT; END_VAR left := 1; right := 1000; WHILE left \u0026lt;= right DO mid := (left + right) / 2; IF sorted_array[mid] = target THEN RETURN TRUE; ELSIF sorted_array[mid] \u0026lt; target THEN left := mid + 1; ELSE right := mid - 1; END_IF; END_WHILE; RETURN FALSE; 7.2 é€šä¿¡ä¼˜åŒ– æ•°æ®æ‰¹å¤„ç† // æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„ TYPE ST_BATCH_UPDATE : STRUCT timestamp : TIME; sensor_values : ARRAY[1..32] OF INT; actuator_states : ARRAY[1..16] OF BOOL; system_flags : ARRAY[1..8] OF BOOL; END_STRUCT END_TYPE // æ‰¹é‡æ›´æ–°æ–¹æ³• METHOD BatchUpdate : BOOL VAR_INPUT update_data : ST_BATCH_UPDATE; END_VAR // ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ® FOR i := 1 TO 32 DO sensor_data[i] := update_data.sensor_values[i]; END_FOR FOR i := 1 TO 16 DO actuator_data[i] := update_data.actuator_states[i]; END_FOR // åº”ç”¨æ—¶é—´æˆ³ last_update_time := update_data.timestamp; ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤ 8.1 å¸¸è§é—®é¢˜è§£å†³ é€šä¿¡é—®é¢˜ é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC è§£å†³æ­¥éª¤: 1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ 2. ç¡®è®¤é˜²ç«å¢™è®¾ç½® 3. éªŒè¯IPåœ°å€å’Œç«¯å£å· 4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ ä»¿çœŸé—®é¢˜ é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡® è§£å†³æ–¹æ³•: 1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•° 2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½® 3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦ 4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´ 8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨ æ•°æ®ç›‘æ§ // å˜é‡ç›‘æ§ç»“æ„ TYPE ST_DEBUG_INFO : STRUCT cycle_time : TIME; cpu_usage : REAL; memory_usage : REAL; communication_errors : INT; last_error_message : STRING; END_STRUCT END_TYPE // è°ƒè¯•æ•°æ®æ”¶é›† METHOD CollectDebugInfo : ST_DEBUG_INFO VAR debug_data : ST_DEBUG_INFO; END_VAR debug_data.cycle_time := GetCycleTime(); debug_data.cpu_usage := GetCPUUsage(); debug_data.memory_usage := GetMemoryUsage(); debug_data.communication_errors := GetCommErrorCount(); debug_data.last_error_message := GetLastErrorMessage(); RETURN debug_data; ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹ æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ ç³»ç»ŸåŠŸèƒ½ è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ« è½¦ä½æ™ºèƒ½åˆ†é… æ”¶è´¹è‡ªåŠ¨åŒ– å¼‚å¸¸æŠ¥è­¦å¤„ç† æŠ€æœ¯è¦ç‚¹ RFIDè½¦è¾†è¯†åˆ« å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ« æ•°æ®åº“ç®¡ç† æ”¯ä»˜ç³»ç»Ÿé›†æˆ æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿ å·¥è‰ºæµç¨‹ åŸæ–™è‡ªåŠ¨ä¸Šæ–™ åŠ å·¥è¿‡ç¨‹æ§åˆ¶ è´¨é‡æ£€æµ‹åˆ†æ‹£ åŒ…è£…è‡ªåŠ¨åŒ– æ§åˆ¶è¦ç‚¹ æ¸©åº¦ç²¾ç¡®æ§åˆ¶ é€Ÿåº¦åŒæ­¥æ§åˆ¶ è´¨é‡å®æ—¶ç›‘æ§ æ•°æ®è¿½æº¯ç³»ç»Ÿ ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®® åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ) è½¯ä»¶åŸºç¡€: Factory I/OåŸºæœ¬æ“ä½œ PLCå…¥é—¨: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹ ç®€å•é¡¹ç›®: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶ ä»¿çœŸå®è·µ: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨ ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ) é«˜çº§ç¼–ç¨‹: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹ é€šä¿¡åè®®: OPC UAã€Modbusé€šä¿¡ å¤æ‚é¡¹ç›®: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿ HMIå¼€å‘: äººæœºç•Œé¢è®¾è®¡ é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ) ç³»ç»Ÿé›†æˆ: å¤šè®¾å¤‡åè°ƒæ§åˆ¶ ç®—æ³•ä¼˜åŒ–: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³• æ•°æ®åº“é›†æˆ: MESç³»ç»Ÿå¯¹æ¥ å·¥ä¸šé¡¹ç›®: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡ ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘ ç›¸å…³è®¤è¯ è¥¿é—¨å­è®¤è¯: S7-1200/1500ç¼–ç¨‹è®¤è¯ ç½—å…‹éŸ¦å°”è®¤è¯: ControlLogixç¼–ç¨‹è®¤è¯ æ–½è€å¾·è®¤è¯: Modicon PLCè®¤è¯ ä¸‰è±è®¤è¯: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯ å°±ä¸šå²—ä½ PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ é¡¹ç›®ç»ç† Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼\n","keywords":["PLC","Factory I/O","å·¥ä¸šè‡ªåŠ¨åŒ–","æ¢¯å½¢å›¾","ä»¿çœŸ"],"articleBody":"ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚\nğŸ¯ å­¦ä¹ ç›®æ ‡ æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³• å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç† å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡ 2.1 Factory I/Oè½¯ä»¶å®‰è£… ç³»ç»Ÿè¦æ±‚ æœ€ä½é…ç½®: - æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½) - å†…å­˜: 8GB RAM - æ˜¾å¡: OpenGL 3.3æ”¯æŒ - ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´ æ¨èé…ç½®: - å†…å­˜: 16GB RAM - æ˜¾å¡: GTX 1060æˆ–æ›´é«˜ - å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š å®‰è£…æ­¥éª¤ è®¿é—®å®˜ç½‘ factoryio.com ä¸‹è½½è½¯ä»¶ é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰ è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£… å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯ 2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹© æ”¯æŒçš„PLCè½¯ä»¶ PLCè½¯ä»¶ è¿æ¥æ–¹å¼ ä»·æ ¼ æ¨èåº¦ CODESYS OPC UA/Modbus å…è´¹ â­â­â­â­â­ TwinCAT ADS å…è´¹ â­â­â­â­ Studio 5000 Logix Emulator æ”¶è´¹ â­â­â­ TIA Portal PLCSIM Advanced æ”¶è´¹ â­â­â­ CODESYSå®‰è£…é…ç½® CODESYSå®‰è£…æ­¥éª¤: 1. ä¸‹è½½CODESYS Development System 2. å®‰è£…CODESYS Control Win V3 (è½¯PLC) 3. é…ç½®OPC UAæœåŠ¡å™¨ 4. è®¾ç½®é€šä¿¡å‚æ•° ğŸ® Factory I/Oç•Œé¢ä»‹ç» 3.1 ä¸»ç•Œé¢å¸ƒå±€ Factory I/Oç•Œé¢å¸ƒå±€: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ èœå•æ : File, Edit, View, Physics, Help â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹© â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚ 3Dè§†å›¾åŒºåŸŸ â”‚ â”‚ â”‚ â”‚ â”‚ ç»„ä»¶åº“ â”‚ â”‚ â”‚ é©±åŠ¨é…ç½® â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 3.2 ç»„ä»¶åº“ä»‹ç» ä¼ æ„Ÿå™¨ç»„ä»¶ ä¼ æ„Ÿå™¨ç±»å‹: - æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘ - å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹ - è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ« - æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡ - é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡ æ‰§è¡Œå™¨ç»„ä»¶ æ‰§è¡Œå™¨ç±»å‹: - ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€ - æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ - å‡é™æœº (Lift): å‚ç›´è¿è¾“ - æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™ - åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£ ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ 4.1 åœºæ™¯æ­å»º åˆ›å»ºåŸºç¡€å¸ƒå±€ æ­¥éª¤1: åˆ›å»ºåœºæ™¯ 1. æ–°å»ºåœºæ™¯ â†’ Empty Scene 2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m 3. æ·»åŠ å…‰ç…§: Directional Light æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦ 1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt 2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m 3. è®¾ç½®é€Ÿåº¦: 0.5 m/s 4. æ”¾ç½®ä½ç½®: (0, 0, 0) æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨ 1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor 2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor 3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½® ç»„ä»¶è¿æ¥é…ç½® ","wordCount":"1464","inLanguage":"en","image":"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800\u0026h=400\u0026fit=crop","datePublished":"2025-11-08T12:00:00+08:00","dateModified":"2025-11-08T12:00:00+08:00","author":{"@type":"Person","name":"dmk69"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hugo-maker-blog.vercel.app/posts/factory-io-plc-tutorial/"},"publisher":{"@type":"Organization","name":"åˆ›å®¢æ•™è‚²åšå®¢","logo":{"@type":"ImageObject","url":"https://hugo-maker-blog.vercel.app/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://hugo-maker-blog.vercel.app/ accesskey=h title="Home (Alt + H)"><img src=https://hugo-maker-blog.vercel.app/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hugo-maker-blog.vercel.app/posts/ title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://hugo-maker-blog.vercel.app/about/ title=å…³äº><span>å…³äº</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hugo-maker-blog.vercel.app/>Home</a>&nbsp;Â»&nbsp;<a href=https://hugo-maker-blog.vercel.app/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ</h1><div class=post-meta><span title='2025-11-08 12:00:00 +0800 CST'>2025-11-08</span>&nbsp;Â·&nbsp;<span>7 min</span>&nbsp;Â·&nbsp;<span>1464 words</span>&nbsp;Â·&nbsp;<span>dmk69</span></div></header><figure class=entry-cover><img loading=eager src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&amp;h=400&amp;fit=crop" alt="Factory Automation"><figcaption>Industrial Automation with Factory I/O</figcaption></figure><div class=post-content><h1 id=-factory-io--plcå®Œå…¨æ•™ç¨‹å·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ>ğŸ­ Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ<a hidden class=anchor aria-hidden=true href=#-factory-io--plcå®Œå…¨æ•™ç¨‹å·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ>#</a></h1><p>Factory I/Oæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å·¥ä¸šè‡ªåŠ¨åŒ–3Dä»¿çœŸè½¯ä»¶ï¼Œç»“åˆPLCç¼–ç¨‹å¯ä»¥å®ç°å®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Factory I/Oçš„ä½¿ç”¨å’ŒPLCç¼–ç¨‹ã€‚</p><h2 id=-å­¦ä¹ ç›®æ ‡>ğŸ¯ å­¦ä¹ ç›®æ ‡<a hidden class=anchor aria-hidden=true href=#-å­¦ä¹ ç›®æ ‡>#</a></h2><ul><li>æŒæ¡Factory I/Oè½¯ä»¶çš„ä½¿ç”¨æ–¹æ³•</li><li>å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹</li><li>ç†è§£å·¥ä¸šæ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åŸç†</li><li>å®Œæˆå¤šä¸ªå®é™…å·¥ä¸šé¡¹ç›®ä»¿çœŸ</li></ul><h2 id=-ç¯å¢ƒå‡†å¤‡>ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡<a hidden class=anchor aria-hidden=true href=#-ç¯å¢ƒå‡†å¤‡>#</a></h2><h3 id=21-factory-ioè½¯ä»¶å®‰è£…>2.1 Factory I/Oè½¯ä»¶å®‰è£…<a hidden class=anchor aria-hidden=true href=#21-factory-ioè½¯ä»¶å®‰è£…>#</a></h3><h4 id=ç³»ç»Ÿè¦æ±‚>ç³»ç»Ÿè¦æ±‚<a hidden class=anchor aria-hidden=true href=#ç³»ç»Ÿè¦æ±‚>#</a></h4><pre tabindex=0><code>æœ€ä½é…ç½®:
- æ“ä½œç³»ç»Ÿ: Windows 10/11 (64ä½)
- å†…å­˜: 8GB RAM
- æ˜¾å¡: OpenGL 3.3æ”¯æŒ
- ç¡¬ç›˜: 2GBå¯ç”¨ç©ºé—´

æ¨èé…ç½®:
- å†…å­˜: 16GB RAM
- æ˜¾å¡: GTX 1060æˆ–æ›´é«˜
- å¤„ç†å™¨: Intel i5/AMD Ryzen 5ä»¥ä¸Š
</code></pre><h4 id=å®‰è£…æ­¥éª¤>å®‰è£…æ­¥éª¤<a hidden class=anchor aria-hidden=true href=#å®‰è£…æ­¥éª¤>#</a></h4><ol><li>è®¿é—®å®˜ç½‘ <a href=https://www.factoryio.com>factoryio.com</a> ä¸‹è½½è½¯ä»¶</li><li>é€‰æ‹©è¯•ç”¨ç‰ˆæˆ–å­¦ç”Ÿç‰ˆï¼ˆ30å¤©å…è´¹ï¼‰</li><li>è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£…</li><li>å¯åŠ¨è½¯ä»¶å¹¶æ¿€æ´»è®¸å¯è¯</li></ol><h3 id=22-plcç¼–ç¨‹è½¯ä»¶é€‰æ‹©>2.2 PLCç¼–ç¨‹è½¯ä»¶é€‰æ‹©<a hidden class=anchor aria-hidden=true href=#22-plcç¼–ç¨‹è½¯ä»¶é€‰æ‹©>#</a></h3><h4 id=æ”¯æŒçš„plcè½¯ä»¶>æ”¯æŒçš„PLCè½¯ä»¶<a hidden class=anchor aria-hidden=true href=#æ”¯æŒçš„plcè½¯ä»¶>#</a></h4><table><thead><tr><th>PLCè½¯ä»¶</th><th>è¿æ¥æ–¹å¼</th><th>ä»·æ ¼</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td>CODESYS</td><td>OPC UA/Modbus</td><td>å…è´¹</td><td>â­â­â­â­â­</td></tr><tr><td>TwinCAT</td><td>ADS</td><td>å…è´¹</td><td>â­â­â­â­</td></tr><tr><td>Studio 5000</td><td>Logix Emulator</td><td>æ”¶è´¹</td><td>â­â­â­</td></tr><tr><td>TIA Portal</td><td>PLCSIM Advanced</td><td>æ”¶è´¹</td><td>â­â­â­</td></tr></tbody></table><h4 id=codesyså®‰è£…é…ç½®>CODESYSå®‰è£…é…ç½®<a hidden class=anchor aria-hidden=true href=#codesyså®‰è£…é…ç½®>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CODESYSå®‰è£…æ­¥éª¤:
</span></span><span style=display:flex><span>1. ä¸‹è½½CODESYS Development System
</span></span><span style=display:flex><span>2. å®‰è£…CODESYS Control Win V3 <span style=color:#f92672>(</span>è½¯PLC<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>3. é…ç½®OPC UAæœåŠ¡å™¨
</span></span><span style=display:flex><span>4. è®¾ç½®é€šä¿¡å‚æ•°
</span></span></code></pre></div><h2 id=-factory-ioç•Œé¢ä»‹ç»>ğŸ® Factory I/Oç•Œé¢ä»‹ç»<a hidden class=anchor aria-hidden=true href=#-factory-ioç•Œé¢ä»‹ç»>#</a></h2><h3 id=31-ä¸»ç•Œé¢å¸ƒå±€>3.1 ä¸»ç•Œé¢å¸ƒå±€<a hidden class=anchor aria-hidden=true href=#31-ä¸»ç•Œé¢å¸ƒå±€>#</a></h3><pre tabindex=0><code>Factory I/Oç•Œé¢å¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èœå•æ : File, Edit, View, Physics, Help               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥å…·æ : è¿è¡Œ, æš‚åœ, é‡ç½®, è¿æ¥, é©±åŠ¨é€‰æ‹©               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åœºæ™¯ç¼–è¾‘åŒº â”‚        3Dè§†å›¾åŒºåŸŸ                         â”‚
â”‚            â”‚                                           â”‚
â”‚ ç»„ä»¶åº“     â”‚                                           â”‚
â”‚ é©±åŠ¨é…ç½®   â”‚                                           â”‚
â”‚            â”‚                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€æ : FPS, ç‰©ç†å¼•æ“, è¿æ¥çŠ¶æ€                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><h3 id=32-ç»„ä»¶åº“ä»‹ç»>3.2 ç»„ä»¶åº“ä»‹ç»<a hidden class=anchor aria-hidden=true href=#32-ç»„ä»¶åº“ä»‹ç»>#</a></h3><h4 id=ä¼ æ„Ÿå™¨ç»„ä»¶>ä¼ æ„Ÿå™¨ç»„ä»¶<a hidden class=anchor aria-hidden=true href=#ä¼ æ„Ÿå™¨ç»„ä»¶>#</a></h4><pre tabindex=0><code>ä¼ æ„Ÿå™¨ç±»å‹:
- æ¥è¿‘ä¼ æ„Ÿå™¨ (Proximity Sensor): æ£€æµ‹ç‰©ä½“æ¥è¿‘
- å…‰ç”µä¼ æ„Ÿå™¨ (Photoelectric Sensor): å…‰æŸæ£€æµ‹
- è§†è§‰ä¼ æ„Ÿå™¨ (Vision Sensor): å›¾åƒè¯†åˆ«
- æ¿€å…‰ä¼ æ„Ÿå™¨ (Laser Sensor): ç²¾ç¡®æµ‹é‡
- é‡é‡ä¼ æ„Ÿå™¨ (Weight Sensor): é‡é‡æµ‹é‡
</code></pre><h4 id=æ‰§è¡Œå™¨ç»„ä»¶>æ‰§è¡Œå™¨ç»„ä»¶<a hidden class=anchor aria-hidden=true href=#æ‰§è¡Œå™¨ç»„ä»¶>#</a></h4><pre tabindex=0><code>æ‰§è¡Œå™¨ç±»å‹:
- ä¼ é€å¸¦ (Conveyor Belt): ç‰©æ–™è¾“é€
- æœºæ¢°è‡‚ (Articulated Robot): æŠ“å–æ“ä½œ
- å‡é™æœº (Lift): å‚ç›´è¿è¾“
- æ¨æ† (Pusher): æ¨åŠ¨ç‰©æ–™
- åˆ†æ‹£å™¨ (Sorter): ç‰©æ–™åˆ†æ‹£
</code></pre><h2 id=-ç¬¬ä¸€ä¸ªé¡¹ç›®ä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ>ğŸ“ ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#-ç¬¬ä¸€ä¸ªé¡¹ç›®ä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ>#</a></h2><h3 id=41-åœºæ™¯æ­å»º>4.1 åœºæ™¯æ­å»º<a hidden class=anchor aria-hidden=true href=#41-åœºæ™¯æ­å»º>#</a></h3><h4 id=åˆ›å»ºåŸºç¡€å¸ƒå±€>åˆ›å»ºåŸºç¡€å¸ƒå±€<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºåŸºç¡€å¸ƒå±€>#</a></h4><pre tabindex=0><code>æ­¥éª¤1: åˆ›å»ºåœºæ™¯
1. æ–°å»ºåœºæ™¯ â†’ Empty Scene
2. è°ƒæ•´åœ°é¢å¤§å°: 20m Ã— 20m
3. æ·»åŠ å…‰ç…§: Directional Light

æ­¥éª¤2: æ·»åŠ ä¼ é€å¸¦
1. ä»ç»„ä»¶åº“æ‹–æ‹½ Conveyor Belt
2. è®¾ç½®å°ºå¯¸: Length 10m, Width 1m
3. è®¾ç½®é€Ÿåº¦: 0.5 m/s
4. æ”¾ç½®ä½ç½®: (0, 0, 0)

æ­¥éª¤3: æ·»åŠ ä¼ æ„Ÿå™¨
1. åœ¨ä¼ é€å¸¦èµ·ç‚¹æ·»åŠ  Proximity Sensor
2. åœ¨ä¼ é€å¸¦ç»ˆç‚¹æ·»åŠ  Photoelectric Sensor
3. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´å’Œä½ç½®
</code></pre><h4 id=ç»„ä»¶è¿æ¥é…ç½®>ç»„ä»¶è¿æ¥é…ç½®<a hidden class=anchor aria-hidden=true href=#ç»„ä»¶è¿æ¥é…ç½®>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!-- Factory I/Oé©±åŠ¨é…ç½® --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;Driver</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;OPC_UA_Client&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Endpoint&gt;</span>opc.tcp://localhost:4840<span style=color:#f92672>&lt;/Endpoint&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;UpdateRate&gt;</span>50<span style=color:#f92672>&lt;/UpdateRate&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Driver&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- è¾“å…¥è¾“å‡ºæ˜ å°„ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;Inputs&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Sensor</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;start_sensor&#34;</span> <span style=color:#a6e22e>address=</span><span style=color:#e6db74>&#34;ns=2;i=1&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Sensor</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;end_sensor&#34;</span> <span style=color:#a6e22e>address=</span><span style=color:#e6db74>&#34;ns=2;i=2&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Inputs&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;Outputs&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Actuator</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;conveyor_motor&#34;</span> <span style=color:#a6e22e>address=</span><span style=color:#e6db74>&#34;ns=2;i=101&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;LED</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;status_led&#34;</span> <span style=color:#a6e22e>address=</span><span style=color:#e6db74>&#34;ns=2;i=201&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Outputs&gt;</span>
</span></span></code></pre></div><h3 id=42-plcç¨‹åºå¼€å‘>4.2 PLCç¨‹åºå¼€å‘<a hidden class=anchor aria-hidden=true href=#42-plcç¨‹åºå¼€å‘>#</a></h3><h4 id=codesysæ¢¯å½¢å›¾ç¨‹åº>CODESYSæ¢¯å½¢å›¾ç¨‹åº<a hidden class=anchor aria-hidden=true href=#codesysæ¢¯å½¢å›¾ç¨‹åº>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>PROGRAM MainProgram
VAR
    // è¾“å…¥å˜é‡
    start_sensor AT %I0.0 : BOOL;
    end_sensor AT %I0.1 : BOOL;
    start_button AT %I0.2 : BOOL;
    stop_button AT %I0.3 : BOOL;

    // è¾“å‡ºå˜é‡
    conveyor_motor AT %Q0.0 : BOOL;
    status_led AT %Q0.1 : BOOL;

    // å†…éƒ¨å˜é‡
    system_running : BOOL := FALSE;
    box_detected : BOOL := FALSE;
    process_complete : BOOL := FALSE;
END_VAR

// æ¢¯å½¢å›¾é€»è¾‘å®ç°
METHOD LadderLogic : BOOL
VAR_INPUT
    Input : BOOL;
END_VAR
VAR_OUTPUT
    Output : BOOL;
END_VAR

// å¯åŠ¨åœæ­¢é€»è¾‘
IF start_button AND NOT system_running THEN
    system_running := TRUE;
END_IF

IF stop_button AND system_running THEN
    system_running := FALSE;
END_IF

// ä¼ é€å¸¦æ§åˆ¶é€»è¾‘
IF system_running THEN
    conveyor_motor := TRUE;
    status_led := TRUE;

    // æ£€æµ‹åˆ°ç®±å­
    IF start_sensor AND NOT box_detected THEN
        box_detected := TRUE;
    END_IF

    // ç®±å­åˆ°è¾¾ç»ˆç‚¹
    IF end_sensor AND box_detected THEN
        process_complete := TRUE;
        box_detected := FALSE;
    END_IF
ELSE
    conveyor_motor := FALSE;
    status_led := FALSE;
    box_detected := FALSE;
    process_complete := FALSE;
END_IF
</code></pre><h4 id=çŠ¶æ€æœºå®ç°>çŠ¶æ€æœºå®ç°<a hidden class=anchor aria-hidden=true href=#çŠ¶æ€æœºå®ç°>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>TYPE E_STATE :
(
    IDLE := 0,
    RUNNING := 1,
    PROCESSING := 2,
    COMPLETE := 3,
    ERROR := 4
);
END_TYPE

VAR
    current_state : E_STATE := IDLE;
    state_timer : TON;
    error_count : INT := 0;
END_VAR

// çŠ¶æ€æœºé€»è¾‘
CASE current_state OF
    IDLE:
        IF start_button THEN
            current_state := RUNNING;
            state_timer(IN:=TRUE, PT:=T#5S);
        END_IF

    RUNNING:
        IF state_timer.Q THEN
            current_state := PROCESSING;
            state_timer(IN:=FALSE);
        END_IF

        IF stop_button THEN
            current_state := IDLE;
        END_IF

    PROCESSING:
        IF process_complete THEN
            current_state := COMPLETE;
        ELSIF error_detected THEN
            current_state := ERROR;
            error_count := error_count + 1;
        END_IF

    COMPLETE:
        // ç­‰å¾…2ç§’åè¿”å›è¿è¡ŒçŠ¶æ€
        state_timer(IN:=TRUE, PT:=T#2S);
        IF state_timer.Q THEN
            current_state := RUNNING;
            state_timer(IN:=FALSE);
            process_complete := FALSE;
        END_IF

    ERROR:
        IF error_count &gt; 5 THEN
            current_state := IDLE;
            error_count := 0;
        ELSIF reset_button THEN
            current_state := RUNNING;
            error_count := 0;
        END_IF
END_CASE
</code></pre><h2 id=-é«˜çº§é¡¹ç›®è‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ>ğŸ¤– é«˜çº§é¡¹ç›®ï¼šè‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#-é«˜çº§é¡¹ç›®è‡ªåŠ¨åˆ†æ‹£ç³»ç»Ÿ>#</a></h2><h3 id=51-ç³»ç»Ÿè®¾è®¡>5.1 ç³»ç»Ÿè®¾è®¡<a hidden class=anchor aria-hidden=true href=#51-ç³»ç»Ÿè®¾è®¡>#</a></h3><h4 id=å·¥è‰ºæµç¨‹>å·¥è‰ºæµç¨‹<a hidden class=anchor aria-hidden=true href=#å·¥è‰ºæµç¨‹>#</a></h4><pre tabindex=0><code>åˆ†æ‹£ç³»ç»Ÿå·¥è‰ºæµç¨‹:
1. ç®±å­è¿›å…¥ä¼ é€å¸¦
2. è§†è§‰ä¼ æ„Ÿå™¨æ£€æµ‹ç®±å­é¢œè‰²
3. æ ¹æ®é¢œè‰²åˆ†æ‹£åˆ°ä¸åŒé€šé“
4. ç»Ÿè®¡å„é¢œè‰²ç®±å­æ•°é‡
5. å¼‚å¸¸å¤„ç†å’ŒæŠ¥è­¦
</code></pre><h4 id=åœºæ™¯æ­å»ºæ­¥éª¤>åœºæ™¯æ­å»ºæ­¥éª¤<a hidden class=anchor aria-hidden=true href=#åœºæ™¯æ­å»ºæ­¥éª¤>#</a></h4><pre tabindex=0><code>åœºæ™¯æ­å»º:
1. ä¸»ä¼ é€å¸¦: 12mé•¿ï¼Œé€Ÿåº¦å¯è°ƒ
2. åˆ†æ‹£å™¨: 3ä¸ªæ¨æ†ï¼Œé—´éš”3m
3. æ”¶é›†ç®±: 3ä¸ªé¢œè‰²å¯¹åº”æ”¶é›†ç®±
4. ä¼ æ„Ÿå™¨é˜µåˆ—: èµ·å§‹æ£€æµ‹ + 3ä¸ªé¢œè‰²æ£€æµ‹
5. HMIé¢æ¿: æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯å’Œæ§åˆ¶æŒ‰é’®
</code></pre><h3 id=52-plcç¨‹åºè®¾è®¡>5.2 PLCç¨‹åºè®¾è®¡<a hidden class=anchor aria-hidden=true href=#52-plcç¨‹åºè®¾è®¡>#</a></h3><h4 id=æ•°æ®ç»“æ„å®šä¹‰>æ•°æ®ç»“æ„å®šä¹‰<a hidden class=anchor aria-hidden=true href=#æ•°æ®ç»“æ„å®šä¹‰>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>// ç®±å­ç±»å‹æšä¸¾
TYPE E_BOX_TYPE :
(
    NONE := 0,
    RED := 1,
    BLUE := 2,
    GREEN := 3,
    UNKNOWN := 4
);
END_TYPE

// ç®±å­ä¿¡æ¯ç»“æ„
TYPE ST_BOX_INFO :
STRUCT
    type : E_BOX_TYPE;
    position : REAL;
    timestamp : TIME;
    processed : BOOL;
END_STRUCT
END_TYPE

// ç³»ç»ŸçŠ¶æ€ç»“æ„
TYPE ST_SYSTEM_STATUS :
STRUCT
    total_boxes : INT := 0;
    red_boxes : INT := 0;
    blue_boxes : INT := 0;
    green_boxes : INT := 0;
    rejected_boxes : INT := 0;
    system_uptime : TIME;
    last_update : TIME;
END_STRUCT
END_TYPE
</code></pre><h4 id=ä¸»æ§åˆ¶ç¨‹åº>ä¸»æ§åˆ¶ç¨‹åº<a hidden class=anchor aria-hidden=true href=#ä¸»æ§åˆ¶ç¨‹åº>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>PROGRAM SortingSystem
VAR
    // è¾“å…¥ä¿¡å·
    entrance_sensor AT %I0.0 : BOOL;
    color_red_sensor AT %I0.1 : BOOL;
    color_blue_sensor AT %I0.2 : BOOL;
    color_green_sensor AT %I0.3 : BOOL;
    position_sensors : ARRAY[1..3] OF BOOL;

    // è¾“å‡ºä¿¡å·
    main_conveyor AT %Q0.0 : BOOL;
    sorting_pushers : ARRAY[1..3] OF BOOL;
    status_lights : ARRAY[1..3] OF BOOL;

    // ç³»ç»Ÿå˜é‡
    box_queue : ARRAY[1..10] OF ST_BOX_INFO;
    system_status : ST_SYSTEM_STATUS;
    current_boxes_on_belt : INT := 0;

    // å®šæ—¶å™¨
    conveyor_timer : TON;
    pusher_timers : ARRAY[1..3] OF TON;

    // çŠ¶æ€æœº
    system_state : E_STATE := IDLE;
END_VAR

// ä¸»æ§åˆ¶é€»è¾‘
METHOD ControlLogic : BOOL
VAR_INPUT
    Execute : BOOL;
END_VAR

IF Execute THEN
    // æ›´æ–°ä¼ æ„Ÿå™¨çŠ¶æ€
    UpdateSensorStatus();

    // å¤„ç†æ–°è¿›å…¥çš„ç®±å­
    IF entrance_sensor AND current_boxes_on_belt &lt; 10 THEN
        AddNewBox();
    END_IF

    // æ›´æ–°ç®±å­ä½ç½®
    UpdateBoxPositions();

    // æ‰§è¡Œåˆ†æ‹£é€»è¾‘
    ExecuteSorting();

    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    UpdateStatistics();

    // å¼‚å¸¸æ£€æµ‹
    CheckErrors();
END_IF
</code></pre><h4 id=åˆ†æ‹£ç®—æ³•å®ç°>åˆ†æ‹£ç®—æ³•å®ç°<a hidden class=anchor aria-hidden=true href=#åˆ†æ‹£ç®—æ³•å®ç°>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>METHOD ExecuteSorting : BOOL
VAR
    i : INT;
    box_to_sort : ST_BOX_INFO;
    target_pusher : INT;
END_VAR

// éå†ä¼ é€å¸¦ä¸Šçš„ç®±å­
FOR i := 1 TO current_boxes_on_belt DO
    box_to_sort := box_queue[i];

    // æ£€æŸ¥ç®±å­æ˜¯å¦åˆ°è¾¾åˆ†æ‹£ä½ç½®
    IF IsBoxAtSortingPosition(box_to_sort.position, target_pusher) THEN
        // æ ¹æ®ç®±å­ç±»å‹æ‰§è¡Œåˆ†æ‹£
        CASE box_to_sort.type OF
            RED:
                IF target_pusher = 1 THEN
                    ExecutePusher(1);
                    system_status.red_boxes := system_status.red_boxes + 1;
                END_IF

            BLUE:
                IF target_pusher = 2 THEN
                    ExecutePusher(2);
                    system_status.blue_boxes := system_status.blue_boxes + 1;
                END_IF

            GREEN:
                IF target_pusher = 3 THEN
                    ExecutePusher(3);
                    system_status.green_boxes := system_status.green_boxes + 1;
                END_IF

            UNKNOWN:
                // æœªçŸ¥ç±»å‹ï¼ŒæŠ¥è­¦
                TriggerAlarm(&#39;Unknown box type detected&#39;);
                system_status.rejected_boxes := system_status.rejected_boxes + 1;
        END_CASE

        // æ ‡è®°ç®±å­å·²å¤„ç†
        box_queue[i].processed := TRUE;
    END_IF;
END_FOR

// æ¸…ç†å·²å¤„ç†çš„ç®±å­
CleanProcessedBoxes();
</code></pre><h2 id=-æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›®>ğŸ® æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›®<a hidden class=anchor aria-hidden=true href=#-æ¸¸æˆåŒ–å­¦ä¹ é¡¹ç›®>#</a></h2><h3 id=61-æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ>6.1 æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#61-æ™ºèƒ½ä»“å‚¨ç³»ç»Ÿ>#</a></h3><h4 id=é¡¹ç›®èƒŒæ™¯>é¡¹ç›®èƒŒæ™¯<a hidden class=anchor aria-hidden=true href=#é¡¹ç›®èƒŒæ™¯>#</a></h4><pre tabindex=0><code>é¡¹ç›®ç›®æ ‡:
- è‡ªåŠ¨åŒ–ä»“åº“ç®¡ç†
- è´§ç‰©æ™ºèƒ½åˆ†æ‹£
- åº“å­˜å®æ—¶ç›‘æ§
- æœºå™¨äººåä½œæ¬è¿
</code></pre><h4 id=ç³»ç»Ÿæ¶æ„>ç³»ç»Ÿæ¶æ„<a hidden class=anchor aria-hidden=true href=#ç³»ç»Ÿæ¶æ„>#</a></h4><pre tabindex=0><code>ç¡¬ä»¶ç»„ä»¶:
1. å †å›æœº (Stacker Crane): è´§æ¶å­˜å–
2. AGVå°è½¦: è´§ç‰©æ¬è¿
3. è¾“é€çº¿ç³»ç»Ÿ: è´§ç‰©æµè½¬
4. æå‡æœº: æ¥¼å±‚è¿è¾“
5. RFIDè¯»å†™å™¨: è´§ç‰©è¯†åˆ«

è½¯ä»¶åŠŸèƒ½:
1. WMSä»“åº“ç®¡ç†ç³»ç»Ÿ
2. è·¯å¾„è§„åˆ’ç®—æ³•
3. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
4. æ•°æ®å¯è§†åŒ–
</code></pre><h3 id=62-ç‰©æµåˆ†æ‹£ä¸­å¿ƒ>6.2 ç‰©æµåˆ†æ‹£ä¸­å¿ƒ<a hidden class=anchor aria-hidden=true href=#62-ç‰©æµåˆ†æ‹£ä¸­å¿ƒ>#</a></h3><h4 id=åœºæ™¯è®¾è®¡>åœºæ™¯è®¾è®¡<a hidden class=anchor aria-hidden=true href=#åœºæ™¯è®¾è®¡>#</a></h4><pre tabindex=0><code>åˆ†æ‹£ä¸­å¿ƒå¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¥è´§åŒº  â†’  ä¸»è¾“é€çº¿  â†’  åˆ†æ‹£åŒº  â†’  å‡ºè´§åŒº  â”‚
â”‚                                        â”‚
â”‚  [è´§æ¶A]  [è´§æ¶B]  [è´§æ¶C]  [è´§æ¶D]     â”‚
â”‚                                        â”‚
â”‚        [æ§åˆ¶ä¸­å¿ƒ] [HMIç•Œé¢]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><h4 id=æ§åˆ¶é€»è¾‘>æ§åˆ¶é€»è¾‘<a hidden class=anchor aria-hidden=true href=#æ§åˆ¶é€»è¾‘>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>// ç‰©æµåˆ†æ‹£æ§åˆ¶ç¨‹åº
PROGRAM LogisticsCenter
VAR
    // è®¢å•æ•°æ®
    orders : ARRAY[1..100] OF ST_ORDER;
    current_order : INT := 0;

    // è´§æ¶çŠ¶æ€
    shelves : ARRAY[1..4] OF ARRAY[1..20] OF ST_SHELF_SLOT;

    // è®¾å¤‡çŠ¶æ€
    agv_fleet : ARRAY[1..3] OF ST_AGV_STATUS;
    conveyor_status : ST_CONVEYOR_STATUS;

    // ä»»åŠ¡é˜Ÿåˆ—
    task_queue : ARRAY[1..50] OF ST_TASK;
    active_tasks : INT := 0;
END_VAR

// ä»»åŠ¡è°ƒåº¦ç®—æ³•
METHOD TaskScheduling : BOOL
VAR
    i : INT;
    best_agv : INT;
    min_cost : REAL := 999999;
    task_cost : REAL;
END_VAR

// ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…æœ€ä¼˜AGV
FOR i := 1 TO active_tasks DO
    // è®¡ç®—æ¯ä¸ªAGVæ‰§è¡Œä»»åŠ¡çš„ä»£ä»·
    FOR j := 1 TO 3 DO
        IF agv_fleet[j].status = IDLE THEN
            task_cost := CalculateTaskCost(task_queue[i], agv_fleet[j]);

            IF task_cost &lt; min_cost THEN
                min_cost := task_cost;
                best_agv := j;
            END_IF
        END_IF;
    END_FOR;

    // åˆ†é…ä»»åŠ¡ç»™æœ€ä¼˜AGV
    IF best_agv &gt; 0 THEN
        AssignTaskToAGV(task_queue[i], best_agv);
        RemoveTaskFromQueue(i);
        best_agv := 0;
        min_cost := 999999;
    END_IF;
END_FOR
</code></pre><h2 id=-æ€§èƒ½ä¼˜åŒ–æŠ€å·§>ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŠ€å·§<a hidden class=anchor aria-hidden=true href=#-æ€§èƒ½ä¼˜åŒ–æŠ€å·§>#</a></h2><h3 id=71-ä»£ç ä¼˜åŒ–>7.1 ä»£ç ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#71-ä»£ç ä¼˜åŒ–>#</a></h3><h4 id=ç®—æ³•ä¼˜åŒ–>ç®—æ³•ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#ç®—æ³•ä¼˜åŒ–>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>// ä½æ•ˆçš„å®ç°
FUNCTION InefficientSearch : BOOL
VAR_INPUT
    target : INT;
    array_data : ARRAY[1..1000] OF INT;
END_VAR
VAR
    i : INT;
END_VAR

FOR i := 1 TO 1000 DO
    IF array_data[i] = target THEN
        RETURN TRUE;
    END_IF;
END_FOR

RETURN FALSE;

// ä¼˜åŒ–åçš„å®ç° (äºŒåˆ†æŸ¥æ‰¾)
FUNCTION OptimizedSearch : BOOL
VAR_INPUT
    target : INT;
    sorted_array : ARRAY[1..1000] OF INT;
END_VAR
VAR
    left, right, mid : INT;
END_VAR

left := 1;
right := 1000;

WHILE left &lt;= right DO
    mid := (left + right) / 2;

    IF sorted_array[mid] = target THEN
        RETURN TRUE;
    ELSIF sorted_array[mid] &lt; target THEN
        left := mid + 1;
    ELSE
        right := mid - 1;
    END_IF;
END_WHILE;

RETURN FALSE;
</code></pre><h3 id=72-é€šä¿¡ä¼˜åŒ–>7.2 é€šä¿¡ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#72-é€šä¿¡ä¼˜åŒ–>#</a></h3><h4 id=æ•°æ®æ‰¹å¤„ç†>æ•°æ®æ‰¹å¤„ç†<a hidden class=anchor aria-hidden=true href=#æ•°æ®æ‰¹å¤„ç†>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>// æ‰¹é‡æ•°æ®æ›´æ–°ç»“æ„
TYPE ST_BATCH_UPDATE :
STRUCT
    timestamp : TIME;
    sensor_values : ARRAY[1..32] OF INT;
    actuator_states : ARRAY[1..16] OF BOOL;
    system_flags : ARRAY[1..8] OF BOOL;
END_STRUCT
END_TYPE

// æ‰¹é‡æ›´æ–°æ–¹æ³•
METHOD BatchUpdate : BOOL
VAR_INPUT
    update_data : ST_BATCH_UPDATE;
END_VAR

// ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰æ•°æ®
FOR i := 1 TO 32 DO
    sensor_data[i] := update_data.sensor_values[i];
END_FOR

FOR i := 1 TO 16 DO
    actuator_data[i] := update_data.actuator_states[i];
END_FOR

// åº”ç”¨æ—¶é—´æˆ³
last_update_time := update_data.timestamp;
</code></pre><h2 id=-è°ƒè¯•å’Œæ•…éšœæ’é™¤>ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤<a hidden class=anchor aria-hidden=true href=#-è°ƒè¯•å’Œæ•…éšœæ’é™¤>#</a></h2><h3 id=81-å¸¸è§é—®é¢˜è§£å†³>8.1 å¸¸è§é—®é¢˜è§£å†³<a hidden class=anchor aria-hidden=true href=#81-å¸¸è§é—®é¢˜è§£å†³>#</a></h3><h4 id=é€šä¿¡é—®é¢˜>é€šä¿¡é—®é¢˜<a hidden class=anchor aria-hidden=true href=#é€šä¿¡é—®é¢˜>#</a></h4><pre tabindex=0><code>é—®é¢˜: Factory I/Oæ— æ³•è¿æ¥åˆ°PLC
è§£å†³æ­¥éª¤:
1. æ£€æŸ¥OPC UAæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
2. ç¡®è®¤é˜²ç«å¢™è®¾ç½®
3. éªŒè¯IPåœ°å€å’Œç«¯å£å·
4. æ£€æŸ¥PLCç¨‹åºæ˜¯å¦è¿è¡Œ
</code></pre><h4 id=ä»¿çœŸé—®é¢˜>ä»¿çœŸé—®é¢˜<a hidden class=anchor aria-hidden=true href=#ä»¿çœŸé—®é¢˜>#</a></h4><pre tabindex=0><code>é—®é¢˜: ç‰©ç†ä»¿çœŸä¸å‡†ç¡®
è§£å†³æ–¹æ³•:
1. è°ƒæ•´ç‰©ç†å¼•æ“å‚æ•°
2. æ£€æŸ¥ç‰©ä½“ç¢°æ’è®¾ç½®
3. ä¼˜åŒ–ä¼ é€å¸¦é€Ÿåº¦
4. è°ƒæ•´ä¼ æ„Ÿå™¨æ£€æµ‹èŒƒå›´
</code></pre><h3 id=82-è°ƒè¯•å·¥å…·ä½¿ç”¨>8.2 è°ƒè¯•å·¥å…·ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#82-è°ƒè¯•å·¥å…·ä½¿ç”¨>#</a></h3><h4 id=æ•°æ®ç›‘æ§>æ•°æ®ç›‘æ§<a hidden class=anchor aria-hidden=true href=#æ•°æ®ç›‘æ§>#</a></h4><pre tabindex=0><code class=language-pascal data-lang=pascal>// å˜é‡ç›‘æ§ç»“æ„
TYPE ST_DEBUG_INFO :
STRUCT
    cycle_time : TIME;
    cpu_usage : REAL;
    memory_usage : REAL;
    communication_errors : INT;
    last_error_message : STRING;
END_STRUCT
END_TYPE

// è°ƒè¯•æ•°æ®æ”¶é›†
METHOD CollectDebugInfo : ST_DEBUG_INFO
VAR
    debug_data : ST_DEBUG_INFO;
END_VAR

debug_data.cycle_time := GetCycleTime();
debug_data.cpu_usage := GetCPUUsage();
debug_data.memory_usage := GetMemoryUsage();
debug_data.communication_errors := GetCommErrorCount();
debug_data.last_error_message := GetLastErrorMessage();

RETURN debug_data;
</code></pre><h2 id=-é¡¹ç›®å®æˆ˜æ¡ˆä¾‹>ğŸ“ é¡¹ç›®å®æˆ˜æ¡ˆä¾‹<a hidden class=anchor aria-hidden=true href=#-é¡¹ç›®å®æˆ˜æ¡ˆä¾‹>#</a></h2><h3 id=æ¡ˆä¾‹1-æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ>æ¡ˆä¾‹1: æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#æ¡ˆä¾‹1-æ™ºèƒ½åœè½¦åœºç³»ç»Ÿ>#</a></h3><h4 id=ç³»ç»ŸåŠŸèƒ½>ç³»ç»ŸåŠŸèƒ½<a hidden class=anchor aria-hidden=true href=#ç³»ç»ŸåŠŸèƒ½>#</a></h4><ul><li>è½¦è¾†è¿›å‡ºè‡ªåŠ¨è¯†åˆ«</li><li>è½¦ä½æ™ºèƒ½åˆ†é…</li><li>æ”¶è´¹è‡ªåŠ¨åŒ–</li><li>å¼‚å¸¸æŠ¥è­¦å¤„ç†</li></ul><h4 id=æŠ€æœ¯è¦ç‚¹>æŠ€æœ¯è¦ç‚¹<a hidden class=anchor aria-hidden=true href=#æŠ€æœ¯è¦ç‚¹>#</a></h4><ul><li>RFIDè½¦è¾†è¯†åˆ«</li><li>å›¾åƒå¤„ç†è½¦ç‰Œè¯†åˆ«</li><li>æ•°æ®åº“ç®¡ç†</li><li>æ”¯ä»˜ç³»ç»Ÿé›†æˆ</li></ul><h3 id=æ¡ˆä¾‹2-é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿>æ¡ˆä¾‹2: é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿<a hidden class=anchor aria-hidden=true href=#æ¡ˆä¾‹2-é£Ÿå“åŠ å·¥ç”Ÿäº§çº¿>#</a></h3><h4 id=å·¥è‰ºæµç¨‹-1>å·¥è‰ºæµç¨‹<a hidden class=anchor aria-hidden=true href=#å·¥è‰ºæµç¨‹-1>#</a></h4><ul><li>åŸæ–™è‡ªåŠ¨ä¸Šæ–™</li><li>åŠ å·¥è¿‡ç¨‹æ§åˆ¶</li><li>è´¨é‡æ£€æµ‹åˆ†æ‹£</li><li>åŒ…è£…è‡ªåŠ¨åŒ–</li></ul><h4 id=æ§åˆ¶è¦ç‚¹>æ§åˆ¶è¦ç‚¹<a hidden class=anchor aria-hidden=true href=#æ§åˆ¶è¦ç‚¹>#</a></h4><ul><li>æ¸©åº¦ç²¾ç¡®æ§åˆ¶</li><li>é€Ÿåº¦åŒæ­¥æ§åˆ¶</li><li>è´¨é‡å®æ—¶ç›‘æ§</li><li>æ•°æ®è¿½æº¯ç³»ç»Ÿ</li></ul><h2 id=-å­¦ä¹ è·¯å¾„å»ºè®®>ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®®<a hidden class=anchor aria-hidden=true href=#-å­¦ä¹ è·¯å¾„å»ºè®®>#</a></h2><h3 id=åˆçº§é˜¶æ®µ-1-2ä¸ªæœˆ>åˆçº§é˜¶æ®µ (1-2ä¸ªæœˆ)<a hidden class=anchor aria-hidden=true href=#åˆçº§é˜¶æ®µ-1-2ä¸ªæœˆ>#</a></h3><ol><li><strong>è½¯ä»¶åŸºç¡€</strong>: Factory I/OåŸºæœ¬æ“ä½œ</li><li><strong>PLCå…¥é—¨</strong>: æ¢¯å½¢å›¾åŸºç¡€ç¼–ç¨‹</li><li><strong>ç®€å•é¡¹ç›®</strong>: ä¼ é€å¸¦æ§åˆ¶ã€ç¯å…‰æ§åˆ¶</li><li><strong>ä»¿çœŸå®è·µ</strong>: åŸºç¡€ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨åº”ç”¨</li></ol><h3 id=ä¸­çº§é˜¶æ®µ-3-4ä¸ªæœˆ>ä¸­çº§é˜¶æ®µ (3-4ä¸ªæœˆ)<a hidden class=anchor aria-hidden=true href=#ä¸­çº§é˜¶æ®µ-3-4ä¸ªæœˆ>#</a></h3><ol><li><strong>é«˜çº§ç¼–ç¨‹</strong>: åŠŸèƒ½å—ã€çŠ¶æ€æœºç¼–ç¨‹</li><li><strong>é€šä¿¡åè®®</strong>: OPC UAã€Modbusé€šä¿¡</li><li><strong>å¤æ‚é¡¹ç›®</strong>: åˆ†æ‹£ç³»ç»Ÿã€è£…é…çº¿</li><li><strong>HMIå¼€å‘</strong>: äººæœºç•Œé¢è®¾è®¡</li></ol><h3 id=é«˜çº§é˜¶æ®µ-5-6ä¸ªæœˆ>é«˜çº§é˜¶æ®µ (5-6ä¸ªæœˆ)<a hidden class=anchor aria-hidden=true href=#é«˜çº§é˜¶æ®µ-5-6ä¸ªæœˆ>#</a></h3><ol><li><strong>ç³»ç»Ÿé›†æˆ</strong>: å¤šè®¾å¤‡åè°ƒæ§åˆ¶</li><li><strong>ç®—æ³•ä¼˜åŒ–</strong>: è·¯å¾„è§„åˆ’ã€è°ƒåº¦ç®—æ³•</li><li><strong>æ•°æ®åº“é›†æˆ</strong>: MESç³»ç»Ÿå¯¹æ¥</li><li><strong>å·¥ä¸šé¡¹ç›®</strong>: å®Œæ•´ç”Ÿäº§çº¿è®¾è®¡</li></ol><h2 id=-è€ƒè¯å’Œå°±ä¸šæ–¹å‘>ğŸ’¡ è€ƒè¯å’Œå°±ä¸šæ–¹å‘<a hidden class=anchor aria-hidden=true href=#-è€ƒè¯å’Œå°±ä¸šæ–¹å‘>#</a></h2><h3 id=ç›¸å…³è®¤è¯>ç›¸å…³è®¤è¯<a hidden class=anchor aria-hidden=true href=#ç›¸å…³è®¤è¯>#</a></h3><ul><li><strong>è¥¿é—¨å­è®¤è¯</strong>: S7-1200/1500ç¼–ç¨‹è®¤è¯</li><li><strong>ç½—å…‹éŸ¦å°”è®¤è¯</strong>: ControlLogixç¼–ç¨‹è®¤è¯</li><li><strong>æ–½è€å¾·è®¤è¯</strong>: Modicon PLCè®¤è¯</li><li><strong>ä¸‰è±è®¤è¯</strong>: FX/Qç³»åˆ—ç¼–ç¨‹è®¤è¯</li></ul><h3 id=å°±ä¸šå²—ä½>å°±ä¸šå²—ä½<a hidden class=anchor aria-hidden=true href=#å°±ä¸šå²—ä½>#</a></h3><ul><li>PLCç¼–ç¨‹å·¥ç¨‹å¸ˆ</li><li>è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆ</li><li>æ§åˆ¶ç³»ç»Ÿå·¥ç¨‹å¸ˆ</li><li>å·¥ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆ</li><li>é¡¹ç›®ç»ç†</li></ul><hr><p><strong>Factory I/O + PLCå­¦ä¹ éœ€è¦å¤§é‡çš„å®è·µï¼Œå»ºè®®ç»“åˆå®é™…å·¥ä¸šé¡¹ç›®è¿›è¡Œå­¦ä¹ ã€‚ç¥ä½ æˆä¸ºä¼˜ç§€çš„å·¥ä¸šè‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆï¼</strong></p><p><em>å¦‚æœ‰é¡¹ç›®å¼€å‘éœ€æ±‚ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºã€‚</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hugo-maker-blog.vercel.app/tags/plc/>PLC</a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/factory-i/o/>Factory I/O</a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/>å·¥ä¸šè‡ªåŠ¨åŒ–</a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/%E6%A2%AF%E5%BD%A2%E5%9B%BE/>æ¢¯å½¢å›¾</a></li><li><a href=https://hugo-maker-blog.vercel.app/tags/%E4%BB%BF%E7%9C%9F/>ä»¿çœŸ</a></li></ul><nav class=paginav><a class=prev href=https://hugo-maker-blog.vercel.app/posts/tech-learning-roadmap-2025/><span class=title>Â« Prev</span><br><span>2025å¹´æŠ€æœ¯å­¦ä¹ å®Œæ•´è·¯çº¿å›¾ï¼šä»é›¶åˆ°ä¸“å®¶çš„15ä¸ªæœˆè®¡åˆ’</span>
</a><a class=next href=https://hugo-maker-blog.vercel.app/posts/python-ai-learning-path/><span class=title>Next Â»</span><br><span>Python AIå®Œå…¨å­¦ä¹ è·¯å¾„ï¼šä»é›¶åŸºç¡€åˆ°æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆ</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on x" href="https://x.com/intent/tweet/?text=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5&amp;url=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f&amp;hashtags=PLC%2cFactoryI%2fO%2c%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%2c%e6%a2%af%e5%bd%a2%e5%9b%be%2c%e4%bb%bf%e7%9c%9f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f&amp;title=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5&amp;summary=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5&amp;source=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f&title=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on whatsapp" href="https://api.whatsapp.com/send?text=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5%20-%20https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on telegram" href="https://telegram.me/share/url?text=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5&amp;url=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Factory I/O + PLCå®Œå…¨æ•™ç¨‹ï¼šå·¥ä¸šè‡ªåŠ¨åŒ–ä»¿çœŸä¸å®è·µ on ycombinator" href="https://news.ycombinator.com/submitlink?t=Factory%20I%2fO%20%2b%20PLC%e5%ae%8c%e5%85%a8%e6%95%99%e7%a8%8b%ef%bc%9a%e5%b7%a5%e4%b8%9a%e8%87%aa%e5%8a%a8%e5%8c%96%e4%bb%bf%e7%9c%9f%e4%b8%8e%e5%ae%9e%e8%b7%b5&u=https%3a%2f%2fhugo-maker-blog.vercel.app%2fposts%2ffactory-io-plc-tutorial%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://hugo-maker-blog.vercel.app/>åˆ›å®¢æ•™è‚²åšå®¢</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>